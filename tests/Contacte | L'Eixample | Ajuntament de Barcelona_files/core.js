if(null===bcn||void 0===bcn){var bcn=bcn||{};!function(bcn,context){function joinQueue(e,n){var i;void 0!==e&&(n=void 0===n?"":"."+n,i=e.replace(/\.([^\.]+)$/,n+".$1"),i.match(/^\/[^\/]/)&&(i=bcn.baseURI+i),t=i.match(/\.(js|css)\b/),null===t&&(t=[".js","js"]),queue[t[1]].push(i))}function versionChecker(e,n){return n=n||"1.0.0"}function commonChecker(){for(var e,n=!1,t=headEl.getElementsByTagName("link"),i="",o=[register.common["1.0.0"].uri[1],register.common["1.1.0"].uri[1]],r=0,a=t.length;a>r;r++)for(var s=0,c=o.length;c>s;s++)if(bcn.baseURI+o[s]===t[r].href){i=bcn.baseURI+o[s],n=!0;break}if(n){e=i.replace(/(\.css)/,".ie7ie8$1"),queue.css.push({href:e,iecondition:"(IE 7)|(IE 8)"});for(var r=0,l=queue.css.length;l>r;r++)for(var s=0,c=o.length;c>s;s++)if(queue.css[r]===bcn.baseURI+o[s]){queue.css.splice(r,1);break}}}var queue={js:[],css:[]},headEl=context.document.getElementsByTagName("head")[0],base_uri="assets",register={common:{"1.0.0":{alias:["1.0"],uri:["/common/1.0.0/javascripts/common.js"],variants:["min"]},"1.1.0":{alias:["1.1"],uri:["/common/1.1.0/javascripts/common.js"],variants:["min"]},"1.2.0":{alias:["last","1","1.2"],uri:["/common/1.2.0/javascripts/common.js"],variants:["min"]}},jquery:{"1.2.6":{uri:"/vendor/jquery/1.2.6/jquery-1.2.6.min.js",variants:["min"]},"1.5.2":{uri:"/vendor/jquery/1.5.2/jquery-1.5.2.min.js",variants:["min"]},"1.7.1":{uri:"/vendor/jquery/1.7.1/jquery-1.7.1.min.js",variants:["min"]}},jir:{"2.0.0":{alias:["last","2","2.0"],uri:"/jir/2.0.0/javascripts/jir.js",dependences:[{jquery:"1.5.2"}]}},modal:{"1.0.0":{alias:["last","1","1.0"],uri:"/modal/1.0.0/javascripts/modal.js",dependences:[{jquery:"1.5.2"}],variants:["min"]}},object:{"1.0.0":{alias:["last","1","1.0"],uri:"/object/1.0.0/javascripts/object.js",dependences:[{jquery:"1.5.2"}],variants:["min"]}}};bcn.baseURI=("https:"===context.document.location.protocol?"https://w9.barcelona.cat/":"http://www.barcelona.cat/")+base_uri,bcn.baseURIapp="https://apidocs.barcelona.cat/palantir/",bcn.merge=function(e,n){var t=Object.prototype.hasOwnProperty;for(var i in n)t.call(n,i)&&(e[i]=n[i]);return e},bcn.i18n=function(){var e={};return load=function(n){var t=Object.prototype.hasOwnProperty;for(var i in n)t.call(n,i)&&(i in e?e[i]=bcn.merge(e[i],n[i]):e[i]=n[i]);return bcn.i18n},translate=function(n,t,i){var i=i||bcn.lang,t=t||{},o=e[i]?i:"en",r="en"===o?n:e[o][n]||n,a=bcn.interpolation(r,t);return a},{load:load,t:translate}}(),bcn.interpolation=function(e,n){return e.replace(/#{([^{}]*)}/g,function(e,t){var i=n[t];return"string"==typeof i||"number"==typeof i?i:e})},bcn.load=function(e,n,t){var i,o,r,a=Object.prototype.hasOwnProperty;if(void 0===register[e]){if(void 0!==n)throw e+" is not a known identifier and the version par\xc3\xa1meter is not allowed in an HTTP URI.";if(void 0!==t)throw"The version par\xc3\xa1meter is not allowed in an HTTP URI.";joinQueue(e)}else{if(n=versionChecker(e,n),void 0===register[e][n])throw"Unknown asset version: "+e+", "+n+".";if(void 0!==t&&"min"!=t)throw t+" is not a valid value for a variant asset.";if(void 0!==t){i=!1,o=register[e][n].variants;for(var s=0,c=o.length;c>s;s++)if(a.call(o,s)&&o[s]===t){i=!0;break}if(!i)throw"The "+e+" asset doesn't have the variant "+t}if(r=register[e][n].uri,r.constructor===Array)for(var s=0,c=r.length;c>s;s++)joinQueue(r[s],t);else joinQueue(r,t)}return bcn},bcn.objKeys=function(e){var n=[];for(var t in e)e.hasOwnProperty(t)&&n.push(t);return n},window.Modernizr=function(e,n,t){function i(e){y.cssText=e}function o(e,n){return i(w.join(e+";")+(n||""))}function r(e,n){return typeof e===n}function a(e,n){return!!~(""+e).indexOf(n)}function s(e,n){for(var i in e){var o=e[i];if(!a(o,"-")&&y[o]!==t)return"pfx"==n?o:!0}return!1}function c(e,n,i){for(var o in e){var a=n[e[o]];if(a!==t)return i===!1?e[o]:r(a,"function")?a.bind(i||n):a}return!1}function l(e,n,t){var i=e.charAt(0).toUpperCase()+e.slice(1),o=(e+" "+k.join(i+" ")+i).split(" ");return r(n,"string")||r(n,"undefined")?s(o,n):(o=(e+" "+$.join(i+" ")+i).split(" "),c(o,n,t))}var u,p,d,f="2.8.3",h={},b=!0,m=n.documentElement,v="modernizr",g=n.createElement(v),y=g.style,_={}.toString,w=" -webkit- -moz- -o- -ms- ".split(" "),x="Webkit Moz O ms",k=x.split(" "),$=x.toLowerCase().split(" "),C={svg:"http://www.w3.org/2000/svg"},j={},E=[],q=E.slice,T=function(e,t,i,o){var r,a,s,c,l=n.createElement("div"),u=n.body,p=u||n.createElement("body");if(parseInt(i,10))for(;i--;)s=n.createElement("div"),s.id=o?o[i]:v+(i+1),l.appendChild(s);return r=["&#173;",'<style id="s',v,'">',e,"</style>"].join(""),l.id=v,(u?l:p).innerHTML+=r,p.appendChild(l),u||(p.style.background="",p.style.overflow="hidden",c=m.style.overflow,m.style.overflow="hidden",m.appendChild(p)),a=t(l,e),u?l.parentNode.removeChild(l):(p.parentNode.removeChild(p),m.style.overflow=c),!!a},S=function(n){var t=e.matchMedia||e.msMatchMedia;if(t)return t(n)&&t(n).matches||!1;var i;return T("@media "+n+" { #"+v+" { position: absolute; } }",function(n){i="absolute"==(e.getComputedStyle?getComputedStyle(n,null):n.currentStyle).position}),i},A={}.hasOwnProperty;d=r(A,"undefined")||r(A.call,"undefined")?function(e,n){return n in e&&r(e.constructor.prototype[n],"undefined")}:function(e,n){return A.call(e,n)},Function.prototype.bind||(Function.prototype.bind=function(e){var n=this;if("function"!=typeof n)throw new TypeError;var t=q.call(arguments,1),i=function(){if(this instanceof i){var o=function(){};o.prototype=n.prototype;var r=new o,a=n.apply(r,t.concat(q.call(arguments)));return Object(a)===a?a:r}return n.apply(e,t.concat(q.call(arguments)))};return i}),j.touch=function(){var t;return"ontouchstart"in e||e.DocumentTouch&&n instanceof DocumentTouch?t=!0:T(["@media (",w.join("touch-enabled),("),v,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){t=9===e.offsetTop}),t},j.geolocation=function(){return"geolocation"in navigator},j.borderimage=function(){return l("borderImage")},j.borderradius=function(){return l("borderRadius")},j.textshadow=function(){return""===n.createElement("div").style.textShadow},j.opacity=function(){return o("opacity:.55"),/^0.55$/.test(y.opacity)},j.cssgradients=function(){var e="background-image:",n="gradient(linear,left top,right bottom,from(#9f9),to(white));",t="linear-gradient(left top,#9f9, white);";return i((e+"-webkit- ".split(" ").join(n+e)+w.join(t+e)).slice(0,-e.length)),a(y.backgroundImage,"gradient")},j.svg=function(){return!!n.createElementNS&&!!n.createElementNS(C.svg,"svg").createSVGRect},j.svgclippaths=function(){return!!n.createElementNS&&/SVGClipPath/.test(_.call(n.createElementNS(C.svg,"clipPath")))};for(var M in j)d(j,M)&&(p=M.toLowerCase(),h[p]=j[M](),E.push((h[p]?"":"no-")+p));return h.addTest=function(e,n){if("object"==typeof e)for(var i in e)d(e,i)&&h.addTest(i,e[i]);else{if(e=e.toLowerCase(),h[e]!==t)return h;n="function"==typeof n?n():n,"undefined"!=typeof b&&b&&(m.className+=" "+(n?"":"no-")+e),h[e]=n}return h},i(""),g=u=null,h._version=f,h._prefixes=w,h._domPrefixes=$,h._cssomPrefixes=k,h.mq=S,h.testProp=function(e){return s([e])},h.testAllProps=l,h.testStyles=T,m.className=m.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(b?" js "+E.join(" "):""),h}(this,this.document),function(e,n,t){function i(e){return"[object Function]"==m.call(e)}function o(e){return"string"==typeof e}function r(){}function a(e){return!e||"loaded"==e||"complete"==e||"uninitialized"==e}function s(){var e=v.shift();g=1,e?e.t?h(function(){("c"==e.t?d.injectCss:d.injectJs)(e.s,0,e.a,e.x,e.e,1)},0):(e(),s()):g=0}function c(e,t,i,o,r,c,l){function u(n){if(!f&&a(p.readyState)&&(y.r=f=1,!g&&s(),p.onload=p.onreadystatechange=null,n)){"img"!=e&&h(function(){w.removeChild(p)},50);for(var i in j[t])j[t].hasOwnProperty(i)&&j[t][i].onload()}}var l=l||d.errorTimeout,p=n.createElement(e),f=0,m=0,y={t:i,s:t,e:r,a:c,x:l};1===j[t]&&(m=1,j[t]=[]),"object"==e?p.data=t:(p.src=t,p.type=e),p.width=p.height="0",p.onerror=p.onload=p.onreadystatechange=function(){u.call(this,m)},v.splice(o,0,y),"img"!=e&&(m||2===j[t]?(w.insertBefore(p,_?null:b),h(u,l)):j[t].push(p))}function l(e,n,t,i,r){return g=0,n=n||"j",o(e)?c("c"==n?k:x,e,n,this.i++,t,i,r):(v.splice(this.i++,0,e),1==v.length&&s()),this}function u(){var e=d;return e.loader={load:l,i:0},e}var p,d,f=n.documentElement,h=e.setTimeout,b=n.getElementsByTagName("script")[0],m={}.toString,v=[],g=0,y="MozAppearance"in f.style,_=y&&!!n.createRange().compareNode,w=_?f:b.parentNode,f=e.opera&&"[object Opera]"==m.call(e.opera),f=!!n.attachEvent&&!f,x=y?"object":f?"script":"img",k=f?"script":x,$=Array.isArray||function(e){return"[object Array]"==m.call(e)},C=[],j={},E={timeout:function(e,n){return n.length&&(e.timeout=n[0]),e}};d=function(e){function n(e){var n,t,i,e=e.split("!"),o=C.length,r=e.pop(),a=e.length,r={url:r,origUrl:r,prefixes:e};for(t=0;a>t;t++)i=e[t].split("="),(n=E[i.shift()])&&(r=n(r,i));for(t=0;o>t;t++)r=C[t](r);return r}function a(e,o,r,a,s){var c=n(e),l=c.autoCallback;c.url.split(".").pop().split("?").shift(),c.bypass||(o&&(o=i(o)?o:o[e]||o[a]||o[e.split("/").pop().split("?")[0]]),c.instead?c.instead(e,o,r,a,s):(j[c.url]?c.noexec=!0:j[c.url]=1,r.load(c.url,c.forceCSS||!c.forceJS&&"css"==c.url.split(".").pop().split("?").shift()?"c":t,c.noexec,c.attrs,c.timeout),(i(o)||i(l))&&r.load(function(){u(),o&&o(c.origUrl,s,a),l&&l(c.origUrl,s,a),j[c.url]=2})))}function s(e,n){function t(e,t){if(e){if(o(e))t||(p=function(){var e=[].slice.call(arguments);d.apply(this,e),f()}),a(e,p,n,0,l);else if(Object(e)===e)for(c in s=function(){var n,t=0;for(n in e)e.hasOwnProperty(n)&&t++;return t}(),e)e.hasOwnProperty(c)&&(!t&&!--s&&(i(p)?p=function(){var e=[].slice.call(arguments);d.apply(this,e),f()}:p[c]=function(e){return function(){var n=[].slice.call(arguments);e&&e.apply(this,n),f()}}(d[c])),a(e[c],p,n,c,l))}else!t&&f()}var s,c,l=!!e.test,u=e.load||e.both,p=e.callback||r,d=p,f=e.complete||r;t(l?e.yep:e.nope,!!u),u&&t(u)}var c,l,p=this.yepnope.loader;if(o(e))a(e,0,p,0);else if($(e))for(c=0;c<e.length;c++)l=e[c],o(l)?a(l,0,p,0):$(l)?d(l):Object(l)===l&&s(l,p);else Object(e)===e&&s(e,p)},d.addPrefix=function(e,n){E[e]=n},d.addFilter=function(e){C.push(e)},d.errorTimeout=1e4,null==n.readyState&&n.addEventListener&&(n.readyState="loading",n.addEventListener("DOMContentLoaded",p=function(){n.removeEventListener("DOMContentLoaded",p,0),n.readyState="complete"},0)),e.yepnope=u(),e.yepnope.executeStack=s,e.yepnope.injectJs=function(e,t,i,o,c,l){var u,p,f=n.createElement("script"),o=o||d.errorTimeout;f.src=e;for(p in i)f.setAttribute(p,i[p]);t=l?s:t||r,f.onreadystatechange=f.onload=function(){!u&&a(f.readyState)&&(u=1,t(),f.onload=f.onreadystatechange=null)},h(function(){u||(u=1,t(1))},o),c?f.onload():b.parentNode.insertBefore(f,b)},e.yepnope.injectCss=function(e,t,i,o,a,c){var l,o=n.createElement("link"),t=c?s:t||r;o.href=e,o.rel="stylesheet",o.type="text/css";for(l in i)o.setAttribute(l,i[l]);a||(b.parentNode.insertBefore(o,b),h(t,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},bcn.Modernizr=context.Modernizr,context.Modernizr=null,bcn.ready=function(e){var n=[];queue.js,queue.css;n=n.concat(queue.js,queue.css),queue.js=[],queue.css=[],commonChecker(),n.length>0?bcn.Modernizr.load([{load:n,complete:e}]):void 0!=e&&e()},bcn.cookie={create:function(e,n,t,i,o){var r,a,i=i||"/";t?(r=new Date,r.setTime(r.getTime()+24*t*60*60*1e3),a="; expires="+r.toGMTString()):a="",""!=o&&(o="; domain="+o+";"),context.document.cookie=e+"="+n+a+"; path="+i+o},list:function(){for(var e=context.document.cookie.split("; "),n={},t=0,i=e.length;i>t;t++){var o=e[t].split("="),r=decodeURIComponent(o[0]),a=decodeURIComponent(o[1]);void 0===n[r]?n[r]=[a]:n[r].push(a)}return n},read:function(e){var n=bcn.cookie.list(),t=Object.prototype.hasOwnProperty;for(var i in n)if(t.call(n,i)&&e===i)return n[i];return null},erase:function(e,n,t){bcn.cookie.create(e,"",-1,n,t)}},bcn.tracklinks=function(e,n,t){var i=function(e,n){bcn.$("body a").each(function(){bcn.bean.on(this,"click",function(t){c(this,t,e,n)})})},o=function(e){bcn.$("#brand.v2015 a").each(function(){bcn.bean.on(this,"click",function(n){s(this,n,e)})})},r=function(e){bcn.$("#brand.v2017 a").each(function(){bcn.bean.on(this,"click",function(n){var t=bcn.$(this).attr("data-ga"),i=bcn.lang.toUpperCase(),o=i;t&&a(e,t,o)})});var n=0;bcn.$("#brand.v2017 input").each(function(){bcn.bean.on(this,"keypress",function(t){t||(t=window.event);var i=t.keyCode||t.which;if("13"==i){n=1;var o=bcn.$(this).attr("data-ga"),r=bcn.$(this).val();if(r){var s=bcn.lang.toUpperCase(),c=s+"-intro-"+r;a(e,o,c)}else t.preventDefault()}})}),bcn.$("#brand.v2017 button").each(function(){bcn.bean.on(this,"click",function(t){if(n)n=0;else{var i=bcn.$(this).attr("data-ga"),o=bcn.$(this).previous().val();if(o){var r=bcn.lang.toUpperCase(),s=r+"-Lupa-"+o;a(e,i,s)}else t.preventDefault()}})})},a=function(e,n,t){var i="Barra",o=function(e){return String.fromCharCode(65+e).toLowerCase()};if(""!=t&&null!==t)for(var r=0,a=e.length;a>r;r++)tracker_index_brand=0==r?"":o(r)+".",l(n,t,tracker_index_brand,i)},s=function(e,n,t){var i="",o=bcn.bonzo(e),r=o.attr("title"),a=o.attr("data-ga"),s=o.text().replace(/\s\s+/g," "),c=o.attr("href"),u="Barra",p=function(e){return String.fromCharCode(65+e).toLowerCase()},d=function(e,n,t,i){return""===e||null===e?""===n||null===n?"":""!=i&&null!==i?n+" - "+i:n:""!=i&&null!==i?e+" - "+i:e};if(tag=d(r,s,c,a),""!=c&&null!==c)for(var f=0,h=t.length;h>f;f++)i=0==f?"":p(f)+".",l(c,tag,i,u)},c=function(e,t,i,o){var r=bcn.bonzo(e),a=r.attr("href"),s=r.attr("data-ga"),c=r.text().replace(/\s\s+/g," ");if(""!=a&&null!==a){var f="Click";if(o.links=o.links||!1,u(a)===!0)f="Document";else if(!o.links&&(p(a)||d(a)))return;s&&(c=c+" - "+s),l(a,c,n,f)}},l=function(e,n,t,i){""==n&&(n="Empty");var o=[t+"_trackEvent",i,decodeURI(e),n];_gaq.push(o)},u=function(e){var n={xml:"",pdf:"",txt:"",doc:"",docx:"",zip:"",mp3:"",mp4:"",ppt:"",pptx:"",Xls:"",xlsx:""};e=e.split("?")[0];var t=e.split(".").pop().toLowerCase();return"undefined"!==t?t in n:void 0},p=function(e){var n=e.match(/^https?\:\/\/([^\/?#]+)(?:[\/?#]|$)/i),t=n&&n[1],i=location.host===t;return i},d=function(e){var n=new RegExp("^(?:[a-z]+:)?//","i");return!n.test(e)};i(e[0],t),o(e),r(e)},bcn.statistics=function(e){var n=context.document.location,t=n.hostname.match(/(bcn\.(?:cat|es))$/),i={global:"UA-29621470-1",test:"UA-29621470-2"},o="",e=e||{},r=e.global,a=function(e){return e&&"object"==typeof e&&e.constructor===Array},s="https://www.google-analytics.com/ga.js",c="https://www.googletagmanager.com/gtm.js?id=GTM-MR74X2",l=function(e){var n=Object.prototype.hasOwnProperty;for(var t in i)if(n.call(i,t)&&i[t]===e)return!0;return!1},u=function(){var a=function(e){return String.fromCharCode(65+e).toLowerCase()},s=e.keys||[];r!==!1&&(e.test===!0?s.push(i.test):s.push(i.global));for(var c,u=0,p=s.length;p>u;u++){if(c=0==u?"":a(u)+".",_gaq.push([c+"_setAccount",s[u]]),t){var d=n.pathname.split("/");if(l(s[u]))_gaq.push([c+"_setDomainName",t[1]]);else{o=c;var f="/";if("www.bcn.cat"===n.hostname){_gaq.push([c+"_setDomainName",n.hostname]);var h={catala:"",castella:"",english:"",ca:"",es:"",en:""};void 0==d[1]||d[1]in h||("cgi-bin"===d[1]||"imeb"===d[1]?void 0!=d[2]&&(f+=d[1]+"/"+d[2]):f+=d[1],_gaq.push([c+"_setCookiePath",f]))}if("w110.bcn.cat"===n.hostname&&void 0!=d[1]){if("portal"===d[1])for(var b=1;4>b;b++)void 0!=d[b]&&(f+=d[b],f+="/");else void 0!=d[1]&&(f+=d[1]);_gaq.push([c+"_setCookiePath",f])}("w1.bcn.cat"===n.hostname||"w2.bcn.cat"===n.hostname)&&void 0!=d[1]&&(f+=d[1],_gaq.push([c+"_setCookiePath",f]))}}_gaq.push([c+"_trackPageview"])}return bcn.statisticCall=s,!1},p=function(e){var n=e[0],t=e[1],i=e[2];a(context._gaq)?context.setTimeout(function(){p(e)},1):context._gaq.push(["_trackEvent",t,i,n])},d=function(){context.dataLayer=context.dataLayer||[],context.dataLayer.push({"gtm.start":(new Date).getTime(),event:"gtm.js"}),bcn.load(c).ready()};return context._gaq=context._gaq||[],bcn.load(s).ready(),e.tgm===!0&&d(),(0===e.length||e.test===!0||void 0!==e.keys||0===bcn.objKeys(e).length)&&(u(),e.keys=e.keys||[],void 0!==e.keys[0]&&bcn.domready(function(){e.tracklinks=e.tracklinks||{},bcn.tracklinks(e.keys,o,e.tracklinks)})),void 0!==e.track&&p(e.track),!1},bcn.statisticCall=!1,/*!
  * Qwery - A Blazing Fast query selector engine
  * https://github.com/ded/qwery
  * copyright Dustin Diaz & Jacob Thornton 2012
  * MIT License
  */
function(e,n,t){"undefined"!=typeof module&&module.exports?module.exports=n():"undefined"!=typeof t.define&&"function"==t.define&&t.define.amd?define(e,n):t[e]=n()}("qwery",function(){function e(){this.c={}}function n(e){return V.g(e)||V.s(e,"(^|\\s+)"+e+"(\\s+|$)",1)}function t(e,n){for(var t=0,i=e.length;i>t;t++)n(e[t])}function i(e){for(var n=[],t=0,i=e.length;i>t;++t)b(e[t])?n=n.concat(e[t]):n[n.length]=e[t];return n}function o(e){for(var n=0,t=e.length,i=[];t>n;n++)i[n]=e[n];return i}function r(e){for(;(e=e.previousSibling)&&1!=e[q];);return e}function a(e){return e.match(X)}function s(e,t,i,o,r,a,s,c,u,p,d){var f,h,b,m,v;if(1!==this[q])return!1;if(t&&"*"!==t&&this[E]&&this[E].toLowerCase()!==t)return!1;if(i&&(h=i.match(T))&&h[1]!==this.id)return!1;if(i&&(v=i.match(S)))for(f=v.length;f--;)if(!n(v[f].slice(1)).test(this.className))return!1;if(u&&g.pseudos[u]&&!g.pseudos[u](this,d))return!1;if(o&&!s){m=this.attributes;for(b in m)if(Object.prototype.hasOwnProperty.call(m,b)&&(m[b].name||b)==r)return this}return o&&!l(a,Z(this,r)||"",s)?!1:this}function c(e){return Q.g(e)||Q.s(e,e.replace(R,"\\$1"))}function l(e,n,t){switch(e){case"=":return n==t;case"^=":return n.match(J.g("^="+t)||J.s("^="+t,"^"+c(t),1));case"$=":return n.match(J.g("$="+t)||J.s("$="+t,c(t)+"$",1));case"*=":return n.match(J.g(t)||J.s(t,c(t),1));case"~=":return n.match(J.g("~="+t)||J.s("~="+t,"(?:^|\\s+)"+c(t)+"(?:\\s+|$)",1));case"|=":return n.match(J.g("|="+t)||J.s("|="+t,"^"+c(t)+"(-|$)",1))}return 0}function u(e,n){var i,o,r,c,l,u,p,f=[],h=[],b=n,m=Y.g(e)||Y.s(e,e.split(F)),g=e.match(U);if(!m.length)return f;if(c=(m=m.slice(0)).pop(),m.length&&(r=m[m.length-1].match(A))&&(b=v(n,r[1])),!b)return f;for(u=a(c),l=b!==n&&9!==b[q]&&g&&/^[+~]$/.test(g[g.length-1])?function(e){for(;b=b.nextSibling;)1==b[q]&&(u[1]?u[1]==b[E].toLowerCase():1)&&(e[e.length]=b);return e}([]):b[$](u[1]||"*"),i=0,o=l.length;o>i;i++)(p=s.apply(l[i],u))&&(f[f.length]=p);return m.length?(t(f,function(e){d(e,m,g)&&(h[h.length]=e)}),h):f}function p(e,n,t){if(f(n))return e==n;if(b(n))return!!~i(n).indexOf(e);for(var o,r,c=n.split(",");n=c.pop();)if(o=Y.g(n)||Y.s(n,n.split(F)),r=n.match(U),o=o.slice(0),s.apply(e,a(o.pop()))&&(!o.length||d(e,o,r,t)))return!0;return!1}function d(e,n,t,i){function o(e,i,c){for(;c=K[t[i]](c,e);)if(f(c)&&s.apply(c,a(n[i]))){if(!i)return c;if(r=o(c,i-1,c))return r}}var r;return(r=o(e,n.length-1,e))&&(!i||G(r,i))}function f(e,n){return e&&"object"==typeof e&&(n=e[q])&&(1==n||9==n)}function h(e){var n,t,i=[];e:for(n=0;n<e.length;++n){for(t=0;t<i.length;++t)if(i[t]==e[n])continue e;i[i.length]=e[n]}return i}function b(e){return"object"==typeof e&&isFinite(e.length)}function m(e){return e?"string"==typeof e?g(e)[0]:!e[q]&&b(e)?e[0]:e:w}function v(e,n,t){return 9===e[q]?e.getElementById(n):e.ownerDocument&&((t=e.ownerDocument.getElementById(n))&&G(t,e)&&t||!G(e,e.ownerDocument)&&_('[id="'+n+'"]',e)[0])}function g(e,n){var t,r,a=m(n);if(!a||!e)return[];if(e===window||f(e))return!n||e!==window&&f(a)&&G(e,a)?[e]:[];if(e&&b(e))return i(e);if(t=e.match(B)){if(t[1])return(r=v(a,t[1]))?[r]:[];if(t[2])return o(a[$](t[2]));if(ee&&t[3])return o(a[k](t[3]))}return _(e,a)}function y(e,n){return function(t){var i,o;return D.test(t)?void(9!==e[q]&&((o=i=e.getAttribute("id"))||e.setAttribute("id",o="__qwerymeupscotty"),t='[id="'+o+'"]'+t,n(e.parentNode||e,t,!0),i||e.removeAttribute("id"))):void(t.length&&n(e,t,!1))}}var _,w=document,x=w.documentElement,k="getElementsByClassName",$="getElementsByTagName",C="querySelectorAll",j="useNativeQSA",E="tagName",q="nodeType",T=/#([\w\-]+)/,S=/\.[\w\-]+/g,A=/^#([\w\-]+)$/,M=/^\.([\w\-]+)$/,I=/^([\w\-]+)$/,N=/^([\w]+)?\.([\w\-]+)$/,D=/(^|,)\s*[>~+]/,O=/^\s+|\s*([,\s\+\~>]|$)\s*/g,P=/[\s\>\+\~]/,H=/(?![\s\w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^'"]*\]|[\s\w\+\-]*\))/,R=/([.*+?\^=!:${}()|\[\]\/\\])/g,z=/^(\*|[a-z0-9]+)?(?:([\.\#]+[\w\-\.#]+)?)/,L=/\[([\w\-]+)(?:([\|\^\$\*\~]?\=)['"]?([ \w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^]+)["']?)?\]/,W=/:([\w\-]+)(\(['"]?([^()]+)['"]?\))?/,B=new RegExp(A.source+"|"+I.source+"|"+M.source),U=new RegExp("("+P.source+")"+H.source,"g"),F=new RegExp(P.source+H.source),X=new RegExp(z.source+"("+L.source+")?("+W.source+")?"),K={" ":function(e){return e&&e!==x&&e.parentNode},">":function(e,n){return e&&e.parentNode==n.parentNode&&e.parentNode},"~":function(e){return e&&e.previousSibling},"+":function(e,n,t,i){return e?(t=r(e))&&(i=r(n))&&t==i&&t:!1}};e.prototype={g:function(e){return this.c[e]||void 0},s:function(e,n,t){return n=t?new RegExp(n):n,this.c[e]=n}};var V=new e,Q=new e,J=new e,Y=new e,G="compareDocumentPosition"in x?function(e,n){return 16==(16&n.compareDocumentPosition(e))}:"contains"in x?function(e,n){return n=9===n[q]||n==window?x:n,n!==e&&n.contains(e)}:function(e,n){for(;e=e.parentNode;)if(e===n)return 1;return 0},Z=function(){var e=w.createElement("p");return(e.innerHTML='<a href="#x">x</a>')&&"#x"!=e.firstChild.getAttribute("href")?function(e,n){return"class"===n?e.className:"href"===n||"src"===n?e.getAttribute(n,2):e.getAttribute(n)}:function(e,n){return e.getAttribute(n)}}(),ee=!!w[k],ne=w.querySelector&&w[C],te=function(e,n){var i,r,a=[];try{return 9!==n[q]&&D.test(e)?(t(i=e.split(","),y(n,function(e,n){r=e[C](n),1==r.length?a[a.length]=r.item(0):r.length&&(a=a.concat(o(r)))})),i.length>1&&a.length>1?h(a):a):o(n[C](e))}catch(s){}return ie(e,n)},ie=function(e,i){var o,r,a,s,c,l,p=[];if(e=e.replace(O,"$1"),r=e.match(N)){for(c=n(r[2]),o=i[$](r[1]||"*"),a=0,s=o.length;s>a;a++)c.test(o[a].className)&&(p[p.length]=o[a]);return p}return t(l=e.split(","),y(i,function(e,n,t){for(c=u(n,e),a=0,s=c.length;s>a;a++)(9===e[q]||t||G(c[a],i))&&(p[p.length]=c[a])})),l.length>1&&p.length>1?h(p):p},oe=function(e){"undefined"!=typeof e[j]&&(_=e[j]&&ne?te:ie)};return oe({useNativeQSA:!0}),g.configure=oe,g.uniq=h,g.is=p,g.pseudos={},g},this),bcn.query=context.qwery,context.qwery=null,/*!
  * Bonzo: DOM Utility (c) Dustin Diaz 2012
  * https://github.com/ded/bonzo
  * License MIT
  */
function(e,n,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define(t):n[e]=t()}("bonzo",this,function(){function e(e,n){var t=null,i=E.defaultView.getComputedStyle(e,"");return i&&(t=i[n]),e.style[n]||t}function n(e){return e&&e.nodeName&&(1==e.nodeType||11==e.nodeType)}function t(e,t,i){var o,r,a;if("string"==typeof e)return x.create(e);if(n(e)&&(e=[e]),i){for(a=[],o=0,r=e.length;r>o;o++)a[o]=g(t,e[o]);return a}return e}function i(e){return new RegExp("(^|\\s+)"+e+"(\\s+|$)")}function o(e,n,t,i){for(var o,r=0,a=e.length;a>r;r++)o=i?e.length-r-1:r,n.call(t||e[o],e[o],o,e);return e}function r(e,t,i){for(var o=0,a=e.length;a>o;o++)n(e[o])&&(r(e[o].childNodes,t,i),t.call(i||e[o],e[o],o,e));return e}function a(e){return e.replace(/-(.)/g,function(e,n){return n.toUpperCase()})}function s(e){return e?e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase():e}function c(e){e[F]("data-node-uid")||e[U]("data-node-uid",++z);var n=e[F]("data-node-uid");return R[n]||(R[n]={})}function l(e){var n=e[F]("data-node-uid");n&&delete R[n]}function u(e){var n;try{return null===e||void 0===e?void 0:"true"===e?!0:"false"===e?!1:"null"===e?null:(n=parseFloat(e))==e?n:e}catch(t){}return void 0}function p(e,n,t){for(var i=0,o=e.length;o>i;++i)if(n.call(t||null,e[i],i,e))return!0;return!1}function d(e){return"transform"==e&&(e=X.transform)||/^transform-?[Oo]rigin$/.test(e)&&(e=X.transform+"Origin"),e?a(e):null}function f(e,n,i,r){var a=0,s=n||this,c=[],l=J&&"string"==typeof e&&"<"!=e.charAt(0)?J(e):e;return o(t(l),function(e,n){o(s,function(t){i(e,c[a++]=n>0?g(s,t):t)},null,r)},this,r),s.length=a,o(c,function(e){s[--a]=e},null,!r),s}function h(e,n,t){var i=x(e),o=i.css("position"),r=i.offset(),a="relative",s=o==a,c=[parseInt(i.css("left"),10),parseInt(i.css("top"),10)];"static"==o&&(i.css("position",a),o=a),isNaN(c[0])&&(c[0]=s?0:e.offsetLeft),isNaN(c[1])&&(c[1]=s?0:e.offsetTop),null!=n&&(e.style.left=n-r.left+c[0]+B),null!=t&&(e.style.top=t-r.top+c[1]+B)}function b(e,n){return"function"==typeof n?n.call(e,e):n}function m(e,n,t){var i=this[0];return i?null==e&&null==n?(y(i)?_():{x:i.scrollLeft,y:i.scrollTop})[t]:(y(i)?j.scrollTo(e,n):(null!=e&&(i.scrollLeft=e),null!=n&&(i.scrollTop=n)),this):this}function v(e){if(this.length=0,e){e="string"==typeof e||e.nodeType||"undefined"==typeof e.length?[e]:e,this.length=e.length;for(var n=0;n<e.length;n++)this[n]=e[n]}}function g(e,n){var t,i,o,r=n.cloneNode(!0);if(e.$&&"function"==typeof e.cloneEvents)for(e.$(r).cloneEvents(n),t=e.$(r).find("*"),i=e.$(n).find("*"),o=0;o<i.length;o++)e.$(t[o]).cloneEvents(i[o]);return r}function y(e){return e===j||/^(?:body|html)$/i.test(e.tagName)}function _(){return{x:j.pageXOffset||q.scrollLeft,y:j.pageYOffset||q.scrollTop}}function w(e){var n=document.createElement("script"),t=e.match(M);return n.src=t[1],n}function x(e){return new v(e)}var k,$,C,j=window,E=j.document,q=E.documentElement,T="parentNode",S=/^(checked|value|selected|disabled)$/i,A=/^(select|fieldset|table|tbody|tfoot|td|tr|colgroup)$/i,M=/\s*<script +src=['"]([^'"]+)['"]>/,I=["<table>","</table>",1],N=["<table><tbody><tr>","</tr></tbody></table>",3],D=["<select>","</select>",1],O=["_","",0,1],P={thead:I,tbody:I,tfoot:I,colgroup:I,caption:I,tr:["<table><tbody>","</tbody></table>",2],th:N,td:N,col:["<table><colgroup>","</colgroup></table>",2],fieldset:["<form>","</form>",1],legend:["<form><fieldset>","</fieldset></form>",2],option:D,optgroup:D,script:O,style:O,link:O,param:O,base:O},H=/^(checked|selected|disabled)$/,R={},z=0,L=/^-?[\d\.]+$/,W=/^data-(.+)$/,B="px",U="setAttribute",F="getAttribute",X=function(){var e=E.createElement("p");return{transform:function(){var n,t=["transform","webkitTransform","MozTransform","OTransform","msTransform"];for(n=0;n<t.length;n++)if(t[n]in e.style)return t[n]}(),classList:"classList"in e}}(),K=/\s+/,V=String.prototype.toString,Q={lineHeight:1,zoom:1,zIndex:1,opacity:1,boxFlex:1,WebkitBoxFlex:1,MozBoxFlex:1},J=E.querySelectorAll&&function(e){return E.querySelectorAll(e)};return X.classList?(k=function(e,n){return e.classList.contains(n)},$=function(e,n){e.classList.add(n)},C=function(e,n){e.classList.remove(n)}):(k=function(e,n){return i(n).test(e.className)},$=function(e,n){e.className=(e.className+" "+n).trim()},C=function(e,n){e.className=e.className.replace(i(n)," ").trim()}),v.prototype={get:function(e){return this[e]||null},each:function(e,n){return o(this,e,n)},deepEach:function(e,n){return r(this,e,n)},map:function(e,n){var t,i,o=[];for(i=0;i<this.length;i++)t=e.call(this,this[i],i),n?n(t)&&o.push(t):o.push(t);return o},html:function(e,n){var i=n?"textContent":"innerHTML",r=this,a=function(n,i){o(t(e,r,i),function(e){n.appendChild(e)})},s=function(t,o){try{if(n||"string"==typeof e&&!A.test(t.tagName))return t[i]=e}catch(r){}a(t,o)};return"undefined"!=typeof e?this.empty().each(s):this[0]?this[0][i]:""},text:function(e){return this.html(e,!0)},append:function(e){var n=this;return this.each(function(i,r){o(t(e,n,r),function(e){i.appendChild(e)})})},prepend:function(e){var n=this;return this.each(function(i,r){var a=i.firstChild;o(t(e,n,r),function(e){i.insertBefore(e,a)})})},appendTo:function(e,n){return f.call(this,e,n,function(e,n){e.appendChild(n)})},prependTo:function(e,n){return f.call(this,e,n,function(e,n){e.insertBefore(n,e.firstChild)},1)},before:function(e){var n=this;return this.each(function(i,r){o(t(e,n,r),function(e){i[T].insertBefore(e,i)})})},after:function(e){var n=this;return this.each(function(i,r){o(t(e,n,r),function(e){i[T].insertBefore(e,i.nextSibling)},null,1)})},insertBefore:function(e,n){return f.call(this,e,n,function(e,n){e[T].insertBefore(n,e)})},insertAfter:function(e,n){return f.call(this,e,n,function(e,n){var t=e.nextSibling;t?e[T].insertBefore(n,t):e[T].appendChild(n)},1)},replaceWith:function(e){var n=this;return this.each(function(i,r){o(t(e,n,r),function(e){i[T]&&i[T].replaceChild(e,i)})})},clone:function(e){var n,t,i=[];for(t=0,n=this.length;n>t;t++)i[t]=g(e||this,this[t]);return x(i)},addClass:function(e){return e=V.call(e).split(K),this.each(function(n){o(e,function(e){e&&!k(n,b(n,e))&&$(n,b(n,e))})})},removeClass:function(e){return e=V.call(e).split(K),this.each(function(n){o(e,function(e){e&&k(n,b(n,e))&&C(n,b(n,e))})})},hasClass:function(e){return e=V.call(e).split(K),p(this,function(n){return p(e,function(e){return e&&k(n,e)})})},toggleClass:function(e,n){return e=V.call(e).split(K),this.each(function(t){o(e,function(e){e&&("undefined"!=typeof n?n?!k(t,e)&&$(t,e):C(t,e):k(t,e)?C(t,e):$(t,e))})})},show:function(e){return e="string"==typeof e?e:"",this.each(function(n){n.style.display=e})},hide:function(){return this.each(function(e){e.style.display="none"})},toggle:function(e,n){return n="string"==typeof n?n:"","function"!=typeof e&&(e=null),this.each(function(t){t.style.display=t.offsetWidth||t.offsetHeight?"none":n,e&&e.call(t)})},first:function(){return x(this.length?this[0]:[])},last:function(){return x(this.length?this[this.length-1]:[])},next:function(){return this.related("nextSibling")},previous:function(){return this.related("previousSibling")},parent:function(){return this.related(T)},related:function(e){return x(this.map(function(n){for(n=n[e];n&&1!==n.nodeType;)n=n[e];return n||0},function(e){return e}))},focus:function(){return this.length&&this[0].focus(),this},blur:function(){return this.length&&this[0].blur(),this},css:function(n,t){function i(e,n,t){for(var i in r)if(r.hasOwnProperty(i)){t=r[i],(n=d(i))&&L.test(t)&&!(n in Q)&&(t+=B);try{e.style[n]=b(e,t)}catch(o){}}}var o,r=n;return void 0===t&&"string"==typeof n?(t=this[0],t?t===E||t===j?(o=t===E?x.doc():x.viewport(),"width"==n?o.width:"height"==n?o.height:""):(n=d(n))?e(t,n):null:null):("string"==typeof n&&(r={},r[n]=t),this.each(i))},offset:function(e,n){if(e&&"object"==typeof e&&("number"==typeof e.top||"number"==typeof e.left))return this.each(function(n){h(n,e.left,e.top)});if("number"==typeof e||"number"==typeof n)return this.each(function(t){h(t,e,n)});if(!this[0])return{top:0,left:0,height:0,width:0};var t=this[0],i=t.ownerDocument.documentElement,o=t.getBoundingClientRect(),r=_(),a=t.offsetWidth,s=t.offsetHeight,c=o.top+r.y-Math.max(0,i&&i.clientTop,E.body.clientTop),l=o.left+r.x-Math.max(0,i&&i.clientLeft,E.body.clientLeft);return{top:c,left:l,height:s,width:a}},dim:function(){if(!this.length)return{height:0,width:0};var e=this[0],n=9==e.nodeType&&e.documentElement,t=n||!e.style||e.offsetWidth||e.offsetHeight?null:function(n){var t={position:e.style.position||"",visibility:e.style.visibility||"",display:e.style.display||""};return n.first().css({position:"absolute",visibility:"hidden",display:"block"}),t}(this),i=n?Math.max(e.body.scrollWidth,e.body.offsetWidth,n.scrollWidth,n.offsetWidth,n.clientWidth):e.offsetWidth,o=n?Math.max(e.body.scrollHeight,e.body.offsetHeight,n.scrollHeight,n.offsetHeight,n.clientHeight):e.offsetHeight;return t&&this.first().css(t),{height:o,width:i}},attr:function(e,n){var t,i=this[0];if("string"!=typeof e&&!(e instanceof String)){for(t in e)e.hasOwnProperty(t)&&this.attr(t,e[t]);return this}return"undefined"==typeof n?i?S.test(e)?H.test(e)&&"string"==typeof i[e]?!0:i[e]:i[F](e):null:this.each(function(t){S.test(e)?t[e]=b(t,n):t[U](e,b(t,n))})},removeAttr:function(e){return this.each(function(n){H.test(e)?n[e]=!1:n.removeAttribute(e)})},val:function(e){return"string"==typeof e||"number"==typeof e?this.attr("value",e):this.length?this[0].value:null},data:function(e,n){var t,i,r=this[0];return"undefined"==typeof n?r?(t=c(r),"undefined"==typeof e?(o(r.attributes,function(e){(i=(""+e.name).match(W))&&(t[a(i[1])]=u(e.value))}),t):("undefined"==typeof t[e]&&(t[e]=u(this.attr("data-"+s(e)))),t[e])):null:this.each(function(t){c(t)[e]=n})},remove:function(){return this.deepEach(l),this.detach()},empty:function(){return this.each(function(e){for(r(e.childNodes,l);e.firstChild;)e.removeChild(e.firstChild)})},detach:function(){return this.each(function(e){e[T]&&e[T].removeChild(e)})},scrollTop:function(e){return m.call(this,null,e,"y")},scrollLeft:function(e){return m.call(this,e,null,"x")}},x.setQueryEngine=function(e){J=e,delete x.setQueryEngine},x.aug=function(e,n){for(var t in e)e.hasOwnProperty(t)&&((n||v.prototype)[t]=e[t])},x.create=function(e){return"string"==typeof e&&""!==e?function(){if(M.test(e))return[w(e)];var n=e.match(/^\s*<([^\s>]+)/),t=E.createElement("div"),i=[],r=n?P[n[1].toLowerCase()]:null,a=r?r[2]+1:1,s=r&&r[3],c=T;for(t.innerHTML=r?r[0]+e+r[1]:e;a--;)t=t.firstChild;s&&t&&1!==t.nodeType&&(t=t.nextSibling);do n&&1!=t.nodeType||i.push(t);while(t=t.nextSibling);return o(i,function(e){e[c]&&e[c].removeChild(e)}),i}():n(e)?[e.cloneNode(!0)]:[]},x.doc=function(){var e=x.viewport();return{width:Math.max(E.body.scrollWidth,q.scrollWidth,e.width),height:Math.max(E.body.scrollHeight,q.scrollHeight,e.height)}},x.firstChild=function(e){for(var n,t=e.childNodes,i=0,o=t&&t.length||0;o>i;i++)1===t[i].nodeType&&(n=t[o=i]);return n},x.viewport=function(){return{width:j.innerWidth,height:j.innerHeight}},x.isAncestor="compareDocumentPosition"in q?function(e,n){return 16==(16&e.compareDocumentPosition(n))}:function(e,n){return e!==n&&e.contains(n)},x}),bcn.bonzo=context.bonzo,bcn.$=function(e){return bcn.bonzo(bcn.query(e))},bcn.bonzo.setQueryEngine(bcn.query),context.bonzo=null,bcn.bonzo.aug({children:function(){var e,n,t=[];for(uniq=function(e){for(var n,t,i,o=[],r=0,a=0;t=e[r];++r){for(i=!1,n=0;n<o.length;++n)if(o[n]===t){i=!0;break}i||(o[a++]=t)}return o},e=0,l=this.length;e<l;e++)if(n=bcn.bonzo.firstChild(this[e]))for(t.push(n);n=n.nextSibling;)1==n.nodeType&&t.push(n);return bcn.$(uniq(t))}}),/*!
  * Reqwest! A general purpose XHR connection manager
  * license MIT (c) Dustin Diaz 2015
  * https://github.com/ded/reqwest
  */
!function(e,n,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define(t):n[e]=t()}("reqwest",this,function(){function succeed(e){var n=protocolRe.exec(e.url);return n=n&&n[1]||context.location.protocol,httpsRe.test(n)?twoHundo.test(e.request.status):!!e.request.response}function handleReadyState(e,n,t){return function(){return e._aborted?t(e.request):e._timedOut?t(e.request,"Request is aborted: timeout"):void(e.request&&4==e.request[readyState]&&(e.request.onreadystatechange=noop,succeed(e)?n(e.request):t(e.request)))}}function setHeaders(e,n){var t,i=n.headers||{};i.Accept=i.Accept||defaultHeaders.accept[n.type]||defaultHeaders.accept["*"];var o="undefined"!=typeof FormData&&n.data instanceof FormData;n.crossOrigin||i[requestedWith]||(i[requestedWith]=defaultHeaders.requestedWith),i[contentType]||o||(i[contentType]=n.contentType||defaultHeaders.contentType);for(t in i)i.hasOwnProperty(t)&&"setRequestHeader"in e&&e.setRequestHeader(t,i[t])}function setCredentials(e,n){"undefined"!=typeof n.withCredentials&&"undefined"!=typeof e.withCredentials&&(e.withCredentials=!!n.withCredentials)}function generalCallback(e){lastValue=e}function urlappend(e,n){return e+(/\?/.test(e)?"&":"?")+n}function handleJsonp(e,n,t,i){var o=uniqid++,r=e.jsonpCallback||"callback",a=e.jsonpCallbackName||reqwest.getcallbackPrefix(o),s=new RegExp("((^|\\?|&)"+r+")=([^&]+)"),c=i.match(s),l=doc.createElement("script"),u=0,p=-1!==navigator.userAgent.indexOf("MSIE 10.0");return c?"?"===c[3]?i=i.replace(s,"$1="+a):a=c[3]:i=urlappend(i,r+"="+a),context[a]=generalCallback,l.type="text/javascript",l.src=i,l.async=!0,"undefined"==typeof l.onreadystatechange||p||(l.htmlFor=l.id="_reqwest_"+o),l.onload=l.onreadystatechange=function(){return l[readyState]&&"complete"!==l[readyState]&&"loaded"!==l[readyState]||u?!1:(l.onload=l.onreadystatechange=null,l.onclick&&l.onclick(),n(lastValue),lastValue=void 0,head.removeChild(l),void(u=1))},head.appendChild(l),{abort:function(){l.onload=l.onreadystatechange=null,t({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(l),u=1}}}function getRequest(e,n){var t,i=this.o,o=(i.method||"GET").toUpperCase(),r="string"==typeof i?i:i.url,a=i.processData!==!1&&i.data&&"string"!=typeof i.data?reqwest.toQueryString(i.data):i.data||null,s=!1;return"jsonp"!=i.type&&"GET"!=o||!a||(r=urlappend(r,a),a=null),"jsonp"==i.type?handleJsonp(i,e,n,r):(t=i.xhr&&i.xhr(i)||xhr(i),t.open(o,r,i.async===!1?!1:!0),setHeaders(t,i),setCredentials(t,i),context[xDomainRequest]&&t instanceof context[xDomainRequest]?(t.onload=e,t.onerror=n,t.onprogress=function(){},s=!0):t.onreadystatechange=handleReadyState(this,e,n),i.before&&i.before(t),s?setTimeout(function(){t.send(a)},200):t.send(a),t)}function Reqwest(e,n){this.o=e,this.fn=n,init.apply(this,arguments)}function setType(e){return null===e?void 0:e.match("json")?"json":e.match("javascript")?"js":e.match("text")?"html":e.match("xml")?"xml":void 0}function init(o,fn){function complete(e){for(o.timeout&&clearTimeout(self.timeout),self.timeout=null;self._completeHandlers.length>0;)self._completeHandlers.shift()(e)}function success(resp){var type=o.type||resp&&setType(resp.getResponseHeader("Content-Type"));resp="jsonp"!==type?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(e){}if(r)switch(type){case"json":try{resp=context.JSON?context.JSON.parse(r):eval("("+r+")")}catch(err){return error(resp,"Could not parse JSON in response",err)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);self._fulfillmentHandlers.length>0;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function timedOut(){self._timedOut=!0,self.request.abort()}function error(e,n,t){for(e=self.request,self._responseArgs.resp=e,self._responseArgs.msg=n,self._responseArgs.t=t,self._erred=!0;self._errorHandlers.length>0;)self._errorHandlers.shift()(e,n,t);complete(e)}this.url="string"==typeof o?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this;fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){timedOut()},o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push(function(){o.error.apply(o,arguments)}),o.complete&&this._completeHandlers.push(function(){o.complete.apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(e,n){return new Reqwest(e,n)}function normalize(e){return e?e.replace(/\r?\n/g,"\r\n"):""}function serial(e,n){var t,i,o,r,a=e.name,s=e.tagName.toLowerCase(),c=function(e){e&&!e.disabled&&n(a,normalize(e.attributes.value&&e.attributes.value.specified?e.value:e.text))};if(!e.disabled&&a)switch(s){case"input":/reset|button|image|file/i.test(e.type)||(t=/checkbox/i.test(e.type),i=/radio/i.test(e.type),o=e.value,(!(t||i)||e.checked)&&n(a,normalize(t&&""===o?"on":o)));break;case"textarea":n(a,normalize(e.value));break;case"select":if("select-one"===e.type.toLowerCase())c(e.selectedIndex>=0?e.options[e.selectedIndex]:null);else for(r=0;e.length&&r<e.length;r++)e.options[r].selected&&c(e.options[r])}}function eachFormElement(){var e,n,t=this,i=function(e,n){var i,o,r;for(i=0;i<n.length;i++)for(r=e[byTag](n[i]),o=0;o<r.length;o++)serial(r[o],t)};for(n=0;n<arguments.length;n++)e=arguments[n],/input|select|textarea/i.test(e.tagName)&&serial(e,t),i(e,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var e={};return eachFormElement.apply(function(n,t){n in e?(e[n]&&!isArray(e[n])&&(e[n]=[e[n]]),e[n].push(t)):e[n]=t},arguments),e}function buildParams(e,n,t,i){var o,r,a,s=/\[\]$/;if(isArray(n))for(r=0;n&&r<n.length;r++)a=n[r],t||s.test(e)?i(e,a):buildParams(e+"["+("object"==typeof a?r:"")+"]",a,t,i);else if(n&&"[object Object]"===n.toString())for(o in n)buildParams(e+"["+o+"]",n[o],t,i);else i(e,n)}var context=this;if("window"in context)var doc=document,byTag="getElementsByTagName",head=doc[byTag]("head")[0];else{var XHR2;try{XHR2=require("xhr2")}catch(ex){throw new Error("Peer dependency `xhr2` required! Please npm install xhr2")}}var httpsRe=/^http/,protocolRe=/(^\w+):\/\//,twoHundo=/^(20\d|1223)$/,readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(e){if(e.crossOrigin===!0){var n=context[xmlHttpRequest]?new XMLHttpRequest:null;if(n&&"withCredentials"in n)return n;if(context[xDomainRequest])return new XDomainRequest;throw new Error("Browser does not support cross-origin requests")}return context[xmlHttpRequest]?new XMLHttpRequest:XHR2?new XHR2:new ActiveXObject("Microsoft.XMLHTTP")},globalSetupOptions={dataFilter:function(e){return e}};return Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(e,n){return e=e||function(){},n=n||function(){},this._fulfilled?this._responseArgs.resp=e(this._responseArgs.resp):this._erred?n(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(e),this._errorHandlers.push(n)),this},always:function(e){return this._fulfilled||this._erred?e(this._responseArgs.resp):this._completeHandlers.push(e),this},fail:function(e){return this._erred?e(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(e),this},"catch":function(e){return this.fail(e)}},reqwest.serializeArray=function(){var e=[];return eachFormElement.apply(function(n,t){e.push({name:n,value:t})},arguments),e},reqwest.serialize=function(){if(0===arguments.length)return"";var e,n,t=Array.prototype.slice.call(arguments,0);return e=t.pop(),e&&e.nodeType&&t.push(e)&&(e=null),e&&(e=e.type),n="map"==e?serializeHash:"array"==e?reqwest.serializeArray:serializeQueryString,n.apply(null,t)},reqwest.toQueryString=function(e,n){var t,i,o=n||!1,r=[],a=encodeURIComponent,s=function(e,n){n="function"==typeof n?n():null==n?"":n,r[r.length]=a(e)+"="+a(n)};if(isArray(e))for(i=0;e&&i<e.length;i++)s(e[i].name,e[i].value);else for(t in e)e.hasOwnProperty(t)&&buildParams(t,e[t],o,s);return r.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(e,n){return e&&(e.type&&(e.method=e.type)&&delete e.type,e.dataType&&(e.type=e.dataType),e.jsonpCallback&&(e.jsonpCallbackName=e.jsonpCallback)&&delete e.jsonpCallback,e.jsonp&&(e.jsonpCallback=e.jsonp)),new Reqwest(e,n)},reqwest.ajaxSetup=function(e){e=e||{};for(var n in e)globalSetupOptions[n]=e[n]},reqwest}),bcn.ajax=context.reqwest,context.reqwest=null,/*!
  * Bean - copyright (c) Jacob Thornton 2011-2012
  * https://github.com/fat/bean
  * MIT license
  */
function(e,n,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define(t):n[e]=t()}("bean",this,function(e,n){e=e||"bean",n=n||this;var t,i=window,o=n[e],r=/[^\.]*(?=\..*)\.|.*/,a=/\..*/,s="addEventListener",c="removeEventListener",l=document||{},u=l.documentElement||{},p=u[s],d=p?s:"attachEvent",f={},h=Array.prototype.slice,b=function(e,n){return e.split(n||" ")},m=function(e){return"string"==typeof e},v=function(e){return"function"==typeof e},g="click dblclick mouseup mousedown contextmenu mousewheel mousemultiwheel DOMMouseScroll mouseover mouseout mousemove selectstart selectend keydown keypress keyup orientationchange focus blur change reset select submit load unload beforeunload resize move DOMContentLoaded readystatechange message error abort scroll ",y="show input invalid touchstart touchmove touchend touchcancel gesturestart gesturechange gestureend textinput readystatechange pageshow pagehide popstate hashchange offline online afterprint beforeprint dragstart dragenter dragover dragleave drag drop dragend loadstart progress suspend emptied stalled loadmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate play pause ratechange volumechange cuechange checking noupdate downloading cached updateready obsolete ",_=function(e,n,t){for(t=0;t<n.length;t++)n[t]&&(e[n[t]]=1);return e}({},b(g+(p?y:""))),w=function(){var e="compareDocumentPosition"in u?function(e,n){return n.compareDocumentPosition&&16===(16&n.compareDocumentPosition(e))}:"contains"in u?function(e,n){return n=9===n.nodeType||n===window?u:n,n!==e&&n.contains(e)}:function(e,n){for(;e=e.parentNode;)if(e===n)return 1;return 0},n=function(n){var t=n.relatedTarget;return t?t!==this&&"xul"!==t.prefix&&!/document/.test(this.toString())&&!e(t,this):null==t};return{mouseenter:{base:"mouseover",condition:n},mouseleave:{base:"mouseout",condition:n},mousewheel:{base:/Firefox/.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel"}}}(),x=function(){var e=b("altKey attrChange attrName bubbles cancelable ctrlKey currentTarget detail eventPhase getModifierState isTrusted metaKey relatedNode relatedTarget shiftKey srcElement target timeStamp type view which propertyName"),n=e.concat(b("button buttons clientX clientY dataTransfer fromElement offsetX offsetY pageX pageY screenX screenY toElement")),t=n.concat(b("wheelDelta wheelDeltaX wheelDeltaY wheelDeltaZ axis")),o=e.concat(b("char charCode key keyCode keyIdentifier keyLocation location")),r=e.concat(b("data")),a=e.concat(b("touches targetTouches changedTouches scale rotation")),s=e.concat(b("data origin source")),c=e.concat(b("state")),p=/over|out/,d=[{reg:/key/i,fix:function(e,n){return n.keyCode=e.keyCode||e.which,o}},{reg:/click|mouse(?!(.*wheel|scroll))|menu|drag|drop/i,fix:function(e,t,i){return t.rightClick=3===e.which||2===e.button,t.pos={x:0,y:0},e.pageX||e.pageY?(t.clientX=e.pageX,t.clientY=e.pageY):(e.clientX||e.clientY)&&(t.clientX=e.clientX+l.body.scrollLeft+u.scrollLeft,t.clientY=e.clientY+l.body.scrollTop+u.scrollTop),p.test(i)&&(t.relatedTarget=e.relatedTarget||e[("mouseover"==i?"from":"to")+"Element"]),n}},{reg:/mouse.*(wheel|scroll)/i,fix:function(){return t}},{reg:/^text/i,fix:function(){return r}},{reg:/^touch|^gesture/i,fix:function(){return a}},{reg:/^message$/i,fix:function(){return s}},{reg:/^popstate$/i,fix:function(){return c}},{reg:/.*/,fix:function(){return e}}],f={},h=function(e,n,t){if(arguments.length&&(e=e||((n.ownerDocument||n.document||n).parentWindow||i).event,this.originalEvent=e,this.isNative=t,this.isBean=!0,e)){var o,r,a,s,c,l=e.type,u=e.target||e.srcElement;if(this.target=u&&3===u.nodeType?u.parentNode:u,t){if(c=f[l],!c)for(o=0,r=d.length;r>o;o++)if(d[o].reg.test(l)){f[l]=c=d[o].fix;break}for(s=c(e,this,l),o=s.length;o--;)!((a=s[o])in this)&&a in e&&(this[a]=e[a])}}};return h.prototype.preventDefault=function(){this.originalEvent.preventDefault?this.originalEvent.preventDefault():this.originalEvent.returnValue=!1},h.prototype.stopPropagation=function(){this.originalEvent.stopPropagation?this.originalEvent.stopPropagation():this.originalEvent.cancelBubble=!0},h.prototype.stop=function(){this.preventDefault(),this.stopPropagation(),this.stopped=!0},h.prototype.stopImmediatePropagation=function(){this.originalEvent.stopImmediatePropagation&&this.originalEvent.stopImmediatePropagation(),this.isImmediatePropagationStopped=function(){return!0}},h.prototype.isImmediatePropagationStopped=function(){return this.originalEvent.isImmediatePropagationStopped&&this.originalEvent.isImmediatePropagationStopped()},h.prototype.clone=function(e){var n=new h(this,this.element,this.isNative);return n.currentTarget=e,n},h}(),k=function(e,n){return p||n||e!==l&&e!==i?e:u},$=function(){var e=function(e,n,t,i){var o=function(t,o){return n.apply(e,i?h.call(o,t?0:1).concat(i):o)},r=function(t,i){return n.__beanDel?n.__beanDel.ft(t.target,e):i},a=t?function(e){var n=r(e,this);return t.apply(n,arguments)?(e&&(e.currentTarget=n),o(e,arguments)):void 0}:function(e){return n.__beanDel&&(e=e.clone(r(e))),o(e,arguments)};return a.__beanDel=n.__beanDel,a},n=function(n,t,i,o,r,a,s){var c,l=w[t];"unload"==t&&(i=T(S,n,t,i,o)),l&&(l.condition&&(i=e(n,i,l.condition,a)),t=l.base||t),this.isNative=c=_[t]&&!!n[d],this.customType=!p&&!c&&t,this.element=n,this.type=t,this.original=o,this.namespaces=r,this.eventType=p||c?t:"propertychange",this.target=k(n,c),this[d]=!!this.target[d],this.root=s,this.handler=e(n,i,null,a)};return n.prototype.inNamespaces=function(e){var n,t,i=0;if(!e)return!0;if(!this.namespaces)return!1;for(n=e.length;n--;)for(t=this.namespaces.length;t--;)e[n]==this.namespaces[t]&&i++;return e.length===i},n.prototype.matches=function(e,n,t){return!(this.element!==e||n&&this.original!==n||t&&this.handler!==t)},n}(),C=function(){var e={},n=function(t,i,o,r,a,s){var c=a?"r":"$";if(i&&"*"!=i){var l,u=0,p=e[c+i],d="*"==t;if(!p)return;for(l=p.length;l>u;u++)if((d||p[u].matches(t,o,r))&&!s(p[u],p,u,i))return}else for(var f in e)f.charAt(0)==c&&n(t,f.substr(1),o,r,a,s)},t=function(n,t,i,o){var r,a=e[(o?"r":"$")+t];if(a)for(r=a.length;r--;)if(!a[r].root&&a[r].matches(n,i,null))return!0;return!1},i=function(e,t,i,o){var r=[];return n(e,t,i,null,o,function(e){return r.push(e)}),r},o=function(n){var t=!n.root&&!this.has(n.element,n.type,null,!1),i=(n.root?"r":"$")+n.type;return(e[i]||(e[i]=[])).push(n),t},r=function(t){n(t.element,t.type,null,t.handler,t.root,function(n,t,i){return t.splice(i,1),n.removed=!0,0===t.length&&delete e[(n.root?"r":"$")+n.type],!1})},a=function(){var n,t=[];for(n in e)"$"==n.charAt(0)&&(t=t.concat(e[n]));return t};return{has:t,get:i,put:o,del:r,entries:a}}(),j=function(e){t=arguments.length?e:l.querySelectorAll?function(e,n){return n.querySelectorAll(e)}:function(){throw new Error("Bean: No selector engine installed")}},E=function(e,n){if(p||!n||!e||e.propertyName=="_on"+n){var t=C.get(this,n||e.type,null,!1),i=t.length,o=0;for(e=new x(e,this,!0),n&&(e.type=n);i>o&&!e.isImmediatePropagationStopped();o++)t[o].removed||t[o].handler.call(this,e)}},q=p?function(e,n,t){e[t?s:c](n,E,!1)}:function(e,n,t,i){var o;t?(C.put(o=new $(e,i||n,function(n){E.call(e,n,i)},E,null,null,!0)),i&&null==e["_on"+i]&&(e["_on"+i]=0),o.target.attachEvent("on"+o.eventType,o.handler)):(o=C.get(e,i||n,E,!0)[0],o&&(o.target.detachEvent("on"+o.eventType,o.handler),C.del(o)))},T=function(e,n,t,i,o){return function(){i.apply(this,arguments),e(n,t,o)}},S=function(e,n,t,i){var o,r,s=n&&n.replace(a,""),c=C.get(e,s,null,!1),l={};for(o=0,r=c.length;r>o;o++)t&&c[o].original!==t||!c[o].inNamespaces(i)||(C.del(c[o]),!l[c[o].eventType]&&c[o][d]&&(l[c[o].eventType]={t:c[o].eventType,c:c[o].type}));for(o in l)C.has(e,l[o].t,null,!1)||q(e,l[o].t,!1,l[o].c)},A=function(e,n){var i=function(n,i){for(var o,r=m(e)?t(e,i):e;n&&n!==i;n=n.parentNode)for(o=r.length;o--;)if(r[o]===n)return n},o=function(e){var t=i(e.target,this);t&&n.apply(t,arguments)};return o.__beanDel={ft:i,selector:e},o},M=p?function(e,n,t){var o=l.createEvent(e?"HTMLEvents":"UIEvents");o[e?"initEvent":"initUIEvent"](n,!0,!0,i,1),t.dispatchEvent(o)}:function(e,n,t){t=k(t,e),e?t.fireEvent("on"+n,l.createEventObject()):t["_on"+n]++},I=function(e,n,t){var i,o,s,c,l=m(n);if(l&&n.indexOf(" ")>0){for(n=b(n),c=n.length;c--;)I(e,n[c],t);return e}if(o=l&&n.replace(a,""),o&&w[o]&&(o=w[o].base),!n||l)(s=l&&n.replace(r,""))&&(s=b(s,".")),S(e,o,t,s);else if(v(n))S(e,null,n);else for(i in n)n.hasOwnProperty(i)&&I(e,i,n[i]);return e},N=function(e,n,i,o){var s,c,l,u,p,m,g;{if(void 0!==i||"object"!=typeof n){for(v(i)?(p=h.call(arguments,3),o=s=i):(s=o,p=h.call(arguments,4),o=A(i,s,t)),l=b(n),this===f&&(o=T(I,e,n,o,s)),u=l.length;u--;)g=C.put(m=new $(e,l[u].replace(a,""),o,s,b(l[u].replace(r,""),"."),p,!1)),m[d]&&g&&q(e,m.eventType,!0,m.customType);return e}for(c in n)n.hasOwnProperty(c)&&N.call(this,e,c,n[c])}},D=function(e,n,t,i){return N.apply(null,m(t)?[e,t,n,i].concat(arguments.length>3?h.call(arguments,5):[]):h.call(arguments))},O=function(){return N.apply(f,arguments)},P=function(e,n,t){var i,o,s,c,l,u=b(n);for(i=u.length;i--;)if(n=u[i].replace(a,""),(c=u[i].replace(r,""))&&(c=b(c,".")),c||t||!e[d])for(l=C.get(e,n,null,!1),t=[!1].concat(t),o=0,s=l.length;s>o;o++)l[o].inNamespaces(c)&&l[o].handler.apply(e,t);else M(_[n],n,e);return e},H=function(e,n,t){for(var i,o,r=C.get(n,t,null,!1),a=r.length,s=0;a>s;s++)r[s].original&&(i=[e,r[s].type],(o=r[s].handler.__beanDel)&&i.push(o.selector),i.push(r[s].original),N.apply(null,i));return e},R={on:N,add:D,one:O,off:I,remove:I,clone:H,fire:P,Event:x,setSelectorEngine:j,noConflict:function(){return n[e]=o,this}};if(i.attachEvent){var z=function(){var e,n=C.entries();for(e in n)n[e].type&&"unload"!==n[e].type&&I(n[e].element,n[e].type);i.detachEvent("onunload",z),i.CollectGarbage&&i.CollectGarbage()};i.attachEvent("onunload",z)}return j(),R}),bcn.bean=context.bean,bcn.bean.setSelectorEngine(bcn.qwery),context.bean=null,/*!
  * domready (c) Dustin Diaz 2012 - License MIT
  */
!function(e,n){"undefined"!=typeof module?module.exports=n():"function"==typeof define&&"object"==typeof define.amd?define(n):this[e]=n()}("domready",function(e){function n(e){for(d=1;e=i.shift();)e()}var t,i=[],o=!1,r=document,a=r.documentElement,s=a.doScroll,c="DOMContentLoaded",l="addEventListener",u="onreadystatechange",p="readyState",d=/^loade|c/.test(r[p]);return r[l]&&r[l](c,t=function(){r.removeEventListener(c,t,o),n()},o),s&&r.attachEvent(u,t=function(){/^c/.test(r[p])&&(r.detachEvent(u,t),n())}),e=s?function(n){self!=top?d?n():i.push(n):function(){try{a.doScroll("left")}catch(t){return setTimeout(function(){e(n)},50)}n()}()}:function(e){d?e():i.push(e)}}),bcn.domready=context.domready,context.domready=null,/*!
 * Bowser - a browser detector
 * https://github.com/ded/bowser
 * MIT License | (c) Dustin Diaz 2015
 */
!function(e,n){"undefined"!=typeof module&&module.exports?module.exports=n():"function"==typeof define&&define.amd?define(n):this[e]=n()}("bowser",function(){function e(e){function n(n){var t=e.match(n);return t&&t.length>1&&t[1]||""}function t(n){var t=e.match(n);return t&&t.length>1&&t[2]||""}var i,o=n(/(ipod|iphone|ipad)/i).toLowerCase(),r=/like android/i.test(e),s=!r&&/android/i.test(e),c=/nexus\s*[0-6]\s*/i.test(e),l=!c&&/nexus\s*[0-9]+/i.test(e),u=/CrOS/.test(e),p=/silk/i.test(e),d=/sailfish/i.test(e),f=/tizen/i.test(e),h=/(web|hpw)os/i.test(e),b=/windows phone/i.test(e),m=!b&&/windows/i.test(e),v=!o&&!p&&/macintosh/i.test(e),g=!s&&!d&&!f&&!h&&/linux/i.test(e),y=n(/edge\/(\d+(\.\d+)?)/i),_=n(/version\/(\d+(\.\d+)?)/i),w=/tablet/i.test(e),x=!w&&/[^-]mobi/i.test(e),k=/xbox/i.test(e);/opera|opr|opios/i.test(e)?i={name:"Opera",opera:a,version:_||n(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/coast/i.test(e)?i={name:"Opera Coast",coast:a,version:_||n(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(e)?i={name:"Yandex Browser",yandexbrowser:a,version:_||n(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(e)?i={name:"UC Browser",ucbrowser:a,version:n(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(e)?i={name:"Maxthon",maxthon:a,version:n(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(e)?i={name:"Epiphany",epiphany:a,version:n(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(e)?i={name:"Puffin",puffin:a,version:n(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(e)?i={name:"Sleipnir",sleipnir:a,version:n(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(e)?i={name:"K-Meleon",kMeleon:a,version:n(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:b?(i={name:"Windows Phone",windowsphone:a},y?(i.msedge=a,i.version=y):(i.msie=a,i.version=n(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(e)?i={name:"Internet Explorer",msie:a,version:n(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:u?i={name:"Chrome",chromeos:a,chromeBook:a,chrome:a,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/chrome.+? edge/i.test(e)?i={name:"Microsoft Edge",msedge:a,version:y}:/vivaldi/i.test(e)?i={name:"Vivaldi",vivaldi:a,version:n(/vivaldi\/(\d+(\.\d+)?)/i)||_}:d?i={name:"Sailfish",sailfish:a,version:n(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(e)?i={name:"SeaMonkey",seamonkey:a,version:n(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(e)?(i={name:"Firefox",firefox:a,version:n(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(e)&&(i.firefoxos=a)):p?i={name:"Amazon Silk",silk:a,version:n(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(e)?i={name:"PhantomJS",phantom:a,version:n(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(e)?i={name:"SlimerJS",slimer:a,version:n(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(e)||/rim\stablet/i.test(e)?i={name:"BlackBerry",blackberry:a,version:_||n(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:h?(i={name:"WebOS",webos:a,version:_||n(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(e)&&(i.touchpad=a)):/bada/i.test(e)?i={name:"Bada",bada:a,version:n(/dolfin\/(\d+(\.\d+)?)/i)}:f?i={name:"Tizen",tizen:a,version:n(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||_}:/qupzilla/i.test(e)?i={name:"QupZilla",qupzilla:a,version:n(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||_}:/chromium/i.test(e)?i={name:"Chromium",chromium:a,version:n(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||_}:/chrome|crios|crmo/i.test(e)?i={name:"Chrome",chrome:a,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:s?i={name:"Android",version:_}:/safari|applewebkit/i.test(e)?(i={name:"Safari",safari:a},_&&(i.version=_)):o?(i={name:"iphone"==o?"iPhone":"ipad"==o?"iPad":"iPod"},_&&(i.version=_)):i=/googlebot/i.test(e)?{name:"Googlebot",googlebot:a,version:n(/googlebot\/(\d+(\.\d+))/i)||_}:{name:n(/^(.*)\/(.*) /),version:t(/^(.*)\/(.*) /)},!i.msedge&&/(apple)?webkit/i.test(e)?(/(apple)?webkit\/537\.36/i.test(e)?(i.name=i.name||"Blink",i.blink=a):(i.name=i.name||"Webkit",i.webkit=a),!i.version&&_&&(i.version=_)):!i.opera&&/gecko\//i.test(e)&&(i.name=i.name||"Gecko",i.gecko=a,i.version=i.version||n(/gecko\/(\d+(\.\d+)?)/i)),i.msedge||!s&&!i.silk?o?(i[o]=a,i.ios=a):v?i.mac=a:k?i.xbox=a:m?i.windows=a:g&&(i.linux=a):i.android=a;var $="";i.windowsphone?$=n(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):o?($=n(/os (\d+([_\s]\d+)*) like mac os x/i),$=$.replace(/[_\s]/g,".")):s?$=n(/android[ \/-](\d+(\.\d+)*)/i):i.webos?$=n(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):i.blackberry?$=n(/rim\stablet\sos\s(\d+(\.\d+)*)/i):i.bada?$=n(/bada\/(\d+(\.\d+)*)/i):i.tizen&&($=n(/tizen[\/\s](\d+(\.\d+)*)/i)),$&&(i.osversion=$);var C=$.split(".")[0];return w||l||"ipad"==o||s&&(3==C||C>=4&&!x)||i.silk?i.tablet=a:(x||"iphone"==o||"ipod"==o||s||c||i.blackberry||i.webos||i.bada)&&(i.mobile=a),i.msedge||i.msie&&i.version>=10||i.yandexbrowser&&i.version>=15||i.vivaldi&&i.version>=1||i.chrome&&i.version>=20||i.firefox&&i.version>=20||i.safari&&i.version>=6||i.opera&&i.version>=10||i.ios&&i.osversion&&i.osversion.split(".")[0]>=6||i.blackberry&&i.version>=10.1||i.chromium&&i.version>=20?i.a=a:i.msie&&i.version<10||i.chrome&&i.version<20||i.firefox&&i.version<20||i.safari&&i.version<6||i.opera&&i.version<10||i.ios&&i.osversion&&i.osversion.split(".")[0]<6||i.chromium&&i.version<20?i.c=a:i.x=a,i}function n(e){return e.split(".").length}function t(e,n){var t,i=[];if(Array.prototype.map)return Array.prototype.map.call(e,n);for(t=0;t<e.length;t++)i=n(e[t]);return i}function i(e){for(var i=Math.max(n(e[0]),n(e[1])),o=t(e,function(e){var o=i-n(e);return e+=new Array(o+1).join(".0"),t(e.split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});--i>=0;){if(o[0][i]>o[1][i])return 1;if(o[0][i]!==o[1][i])return-1;if(0===i)return 0}}function o(n,t,o){var r=s;"string"==typeof t&&(o=t,t=void 0),void 0===t&&(t=!1),o&&(r=e(o));var a=""+r.version;for(var c in n)if(n.hasOwnProperty(c)&&r[c]&&i([a,n[c]])<0)return!0;return t}function r(e,n){return!o(e,n)}var a=!0,s=e("undefined"!=typeof navigator?navigator.userAgent:"");return s.test=function(e){for(var n=0;n<e.length;++n){var t=e[n];if("string"==typeof t&&t in s)return!0}return!1},s.isUnsupportedBrowser=o,s.compareVersions=i,s.check=r,s._detect=e,s}),bcn.bowser=context.bowser,context.bowser=null,function(e){var n=/iPhone/i,t=/iPod/i,i=/iPad/i,o=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,r=/Android/i,a=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,s=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,c=/Windows Phone/i,l=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,u=/BlackBerry/i,p=/BB10/i,d=/Opera Mini/i,f=/(CriOS|Chrome)(?=.*\bMobile\b)/i,h=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,b=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),m=function(e,n){return e.test(n)},v=function(e){var v=e||navigator.userAgent,g=v.split("[FBAN");return"undefined"!=typeof g[1]&&(v=g[0]),g=v.split("Twitter"),"undefined"!=typeof g[1]&&(v=g[0]),this.apple={phone:m(n,v),ipod:m(t,v),tablet:!m(n,v)&&m(i,v),device:m(n,v)||m(t,v)||m(i,v)},this.amazon={phone:m(a,v),tablet:!m(a,v)&&m(s,v),device:m(a,v)||m(s,v)},this.android={phone:m(a,v)||m(o,v),tablet:!m(a,v)&&!m(o,v)&&(m(s,v)||m(r,v)),device:m(a,v)||m(s,v)||m(o,v)||m(r,v)},this.windows={phone:m(c,v),tablet:m(l,v),device:m(c,v)||m(l,v)},this.other={blackberry:m(u,v),blackberry10:m(p,v),opera:m(d,v),firefox:m(h,v),chrome:m(f,v),device:m(u,v)||m(p,v)||m(d,v)||m(h,v)||m(f,v)},this.seven_inch=m(b,v),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window?this:void 0},g=function(){var e=new v;return e.Class=v,e};"undefined"!=typeof module&&module.exports&&"undefined"==typeof window?module.exports=v:"undefined"!=typeof module&&module.exports&&"undefined"!=typeof window?module.exports=g():"function"==typeof define&&define.amd?define("isMobile",[],e.isMobile=g()):e.isMobile=g()}(this),bcn.isMobile=context.isMobile,context.isMobile=null,/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */
function(e,n){if("object"==typeof exports&&exports)n(exports);else{var t={};n(t),"function"==typeof define&&define.amd?define(t):e.Mustache=t}}(this,function(e){function n(e,n){return f.call(e,n)}function t(e){return!n(h,e)}function i(e){return"function"==typeof e}function o(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function r(e){return String(e).replace(/[&<>"'\/]/g,function(e){return v[e]})}function a(e){if(!m(e)||2!==e.length)throw new Error("Invalid tags: "+e);return[new RegExp(o(e[0])+"\\s*"),new RegExp("\\s*"+o(e[1]))]}function s(n,i){function r(){if(j&&!E)for(;C.length;)delete $[C.pop()];else C=[];j=!1,E=!1}i=i||e.tags,n=n||"","string"==typeof i&&(i=i.split(y));for(var s,p,d,f,h,b,m=a(i),v=new u(n),k=[],$=[],C=[],j=!1,E=!1;!v.eos();){if(s=v.pos,d=v.scanUntil(m[0]))for(var q=0,T=d.length;T>q;++q)f=d.charAt(q),t(f)?C.push($.length):E=!0,$.push(["text",f,s,s+1]),s+=1,"\n"===f&&r();if(!v.scan(m[0]))break;if(j=!0,p=v.scan(x)||"name",v.scan(g),"="===p?(d=v.scanUntil(_),v.scan(_),v.scanUntil(m[1])):"{"===p?(d=v.scanUntil(new RegExp("\\s*"+o("}"+i[1]))),v.scan(w),v.scanUntil(m[1]),p="&"):d=v.scanUntil(m[1]),!v.scan(m[1]))throw new Error("Unclosed tag at "+v.pos);if(h=[p,d,s,v.pos],$.push(h),"#"===p||"^"===p)k.push(h);else if("/"===p){if(b=k.pop(),!b)throw new Error('Unopened section "'+d+'" at '+s);if(b[1]!==d)throw new Error('Unclosed section "'+b[1]+'" at '+s)}else"name"===p||"{"===p||"&"===p?E=!0:"="===p&&(m=a(i=d.split(y)))}if(b=k.pop())throw new Error('Unclosed section "'+b[1]+'" at '+v.pos);return l(c($))}function c(e){for(var n,t,i=[],o=0,r=e.length;r>o;++o)n=e[o],n&&("text"===n[0]&&t&&"text"===t[0]?(t[1]+=n[1],t[3]=n[3]):(i.push(n),t=n));return i}function l(e){for(var n,t,i=[],o=i,r=[],a=0,s=e.length;s>a;++a)switch(n=e[a],n[0]){case"#":case"^":o.push(n),r.push(n),o=n[4]=[];break;case"/":t=r.pop(),t[5]=n[2],o=r.length>0?r[r.length-1][4]:i;break;default:o.push(n)}return i}function u(e){this.string=e,this.tail=e,this.pos=0}function p(e,n){this.view=null==e?{}:e,this.cache={".":this.view},this.parent=n}function d(){this.cache={}}var f=RegExp.prototype.test,h=/\S/,b=Object.prototype.toString,m=Array.isArray||function(e){return"[object Array]"===b.call(e)},v={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},g=/\s*/,y=/\s+/,_=/\s*=/,w=/\s*\}/,x=/#|\^|\/|>|\{|&|=|!/;u.prototype.eos=function(){return""===this.tail},u.prototype.scan=function(e){var n=this.tail.match(e);if(n&&0===n.index){var t=n[0];return this.tail=this.tail.substring(t.length),this.pos+=t.length,t}return""},u.prototype.scanUntil=function(e){var n,t=this.tail.search(e);switch(t){case-1:n=this.tail,this.tail="";break;case 0:n="";break;default:n=this.tail.substring(0,t),this.tail=this.tail.substring(t)}return this.pos+=n.length,n},p.prototype.push=function(e){return new p(e,this)},p.prototype.lookup=function(e){var n;if(e in this.cache)n=this.cache[e];else{for(var t=this;t;){if(e.indexOf(".")>0){n=t.view;for(var o=e.split("."),r=0;null!=n&&r<o.length;)n=n[o[r++]]}else n=t.view[e];if(null!=n)break;t=t.parent}this.cache[e]=n}return i(n)&&(n=n.call(this.view)),n},d.prototype.clearCache=function(){this.cache={}},d.prototype.parse=function(e,n){var t=this.cache,i=t[e];return null==i&&(i=t[e]=s(e,n)),i},d.prototype.render=function(e,n,t){var i=this.parse(e),o=n instanceof p?n:new p(n);return this.renderTokens(i,o,t,e)},d.prototype.renderTokens=function(n,t,o,r){function a(e){return u.render(e,t,o)}for(var s,c,l="",u=this,p=0,d=n.length;d>p;++p)switch(s=n[p],s[0]){case"#":if(c=t.lookup(s[1]),!c)continue;if(m(c))for(var f=0,h=c.length;h>f;++f)l+=this.renderTokens(s[4],t.push(c[f]),o,r);else if("object"==typeof c||"string"==typeof c)l+=this.renderTokens(s[4],t.push(c),o,r);else if(i(c)){if("string"!=typeof r)throw new Error("Cannot use higher-order sections without the original template");c=c.call(t.view,r.slice(s[3],s[5]),a),null!=c&&(l+=c)}else l+=this.renderTokens(s[4],t,o,r);break;case"^":c=t.lookup(s[1]),(!c||m(c)&&0===c.length)&&(l+=this.renderTokens(s[4],t,o,r));break;case">":if(!o)continue;c=i(o)?o(s[1]):o[s[1]],null!=c&&(l+=this.renderTokens(this.parse(c),t,o,c));break;case"&":c=t.lookup(s[1]),null!=c&&(l+=c);break;case"name":c=t.lookup(s[1]),null!=c&&(l+=e.escape(c));break;case"text":l+=s[1]}return l},e.name="mustache.js",e.version="0.8.1",e.tags=["{{","}}"];var k=new d;e.clearCache=function(){return k.clearCache()},e.parse=function(e,n){return k.parse(e,n)},e.render=function(e,n,t){return k.render(e,n,t)},e.to_html=function(n,t,o,r){var a=e.render(n,t,o);return i(r)?void r(a):a},e.escape=r,e.Scanner=u,e.Context=p,e.Writer=d}),bcn.Mustache=context.Mustache,context.Mustache=null,bcn.lang=bcn.$("html").attr("lang")||bcn.$("html").attr("xml:lang")||"ca",bcn.onload=function(e){var n=context.onload;"function"!=typeof window.onload?context.onload=e:context.onload=function(){if(n)try{n()}catch(t){}e()}},bcn.utilities=function(){var e=[37,38,39,40],n=function(e){e=e||window.event,e.preventDefault&&e.preventDefault(),e.returnValue=!1},t=function(t){for(var i=e.length;i--;)if(t.keyCode===e[i])return void n(t)},i=function(e){n(e)},o=function(e){n(e)},r=function(){window.addEventListener&&window.addEventListener("DOMMouseScroll",i,!1),window.onmousewheel=document.onmousewheel=i,document.onkeydown=t,document.ontouchmove=window.ontouchmove=o},a=function(){window.removeEventListener&&window.removeEventListener("DOMMouseScroll",i,!1),window.onmousewheel=document.onmousewheel=document.onkeydown=document.ontouchmove=window.ontouchmove=null};return{disable_scroll:r,enable_scroll:a}}(),bcn.cookiescontrol=function(e){var e=e||{},n="bcn-cc",t=bcn.i18n.t,i=bcn.lang,o=function(){var e="desktop";return bcn.isMobile.phone&&(e="mobile"),e},r=function(){return"en"!=bcn.lang?'<p class="bolded">{{conditions}}<i><a href="'+a[i]+'">{{cookies}}</a></i>.</p>':'<p class="bolded">{{conditions}}{{cookies}}.</p>'},a={es:e.more_info_es||"http://www.barcelona.cat/es/cookies.html",ca:e.more_info_ca||"http://www.barcelona.cat/ca/cookies.html",en:e.more_info_en||"http://www.barcelona.cat/en/cookies.html"},s=o(),c=function(){var e='<button class="bcn-cc-agree">{{agree}}</button>',n='<a class="bcn-cc-more-info" href="#">{{more_info}}</a>';return"mobile"==o()?e+n:n+e},l='<div id="bcn-ccwr" class="v2014 '+s+'"><div class="bcn-cc-content"><div class="bcn-cc-info"><p>{{information}}</p>'+r()+'</div><div class="bcn-cc-buttons">'+c()+"</div></div></div>",u={ca:{"We use our own and third-party cookies to improve your browsing experience and to offer you content and services of interest.":"Aquest lloc web fa servir cookies pr\xf2pies i de tercers per millorar l\u2019experi\xe8ncia de navegaci\xf3, i oferir continguts i serveis d\u2019inter\xe8s.","Continued browsing on your part shall imply full acceptance of our ":"En continuar la navegaci\xf3 entenem que s\u2019accepta la nostra pol\xedtica de ","cookies policy":"cookies","Find out more":"M\xe9s informaci\xf3",Continue:"D'acord"},es:{"We use our own and third-party cookies to improve your browsing experience and to offer you content and services of interest.":"Utilizamos cookies propias y de terceros para mejorar la experiencia de navegaci\xf3n y ofrecer contenidos y servicios de inter\xe9s.","Continued browsing on your part shall imply full acceptance of our ":"Al continuar con la navegaci\xf3n, entendemos que se acepta nuestra pol\xedtica de ","cookies policy":"cookies","Find out more":"M\xe1s informaci\xf3n",Continue:"Acepto"}},p=function(){bcn.$("#bcn-ccwr.v2014").show()},d=function(){bcn.$("#bcn-ccwr.v2014").hide();var e=location.hostname.match(/(?:(?:bcn|barcelona).cat|.barcelona)$/);e?".barcelona"===e[0]?bcn.cookie.create(n,1,365,"/","."+location.hostname):bcn.cookie.create(n,1,365,"/","."+e[0]):bcn.cookie.create(n,1,365,"/","")},f=function(){bcn.$("body a, button.bcn-cc-agree").each(function(){bcn.bean.on(this,"click",function(){"bcn-cc-more-info"!=bcn.$(this).attr("class")&&d()})})},h=function(){return{information:t("We use our own and third-party cookies to improve your browsing experience and to offer you content and services of interest."),conditions:t("Continued browsing on your part shall imply full acceptance of our "),cookies:t("cookies policy"),more_info:t("Find out more"),agree:t("Continue")}},b=function(){var e=a.en;void 0!=a[i]&&(e=a[i]),bcn.$(".bcn-cc-more-info").attr("href",e)},m=function(){traslations=h(),bcn.domready(function(){body=bcn.$("body");var e=bcn.Mustache.to_html(l,traslations);bcn.bonzo(body[0]).prepend(e),f(),b(),p()})},v=function(){var e=bcn.cookie.read(n);1!=e&&(bcn.i18n.load(u),m()),bcn.cookiesHasBeenCalled=!0};v()},bcn.brand=function(){var e=!1,n=function(){var e=(bcn.$("body"),bcn.$("#brand")),n=bcn.$("#brand .logotype a"),t=bcn.$("#brand .social a"),i=bcn.$("#brand.v2013 ul.languages li a, #brand.v2012 ul.languages li a"),o=bcn.$("#brand ul.language-selector"),r=bcn.$("#brand.v2013 .main, #brand.v2012 .main"),a=bcn.$("#brand #brand-search").first();shield=bcn.$("#brand .shield"),shield_events={show:function(e,n){var n=n||parseInt(shield.css("padding-left").match(/^(-?\d+)p/)[1],10),t=5,e=e||72;0>n&&(n=0),e>n&&(shield.css("padding-left",n+t+"px"),context.setTimeout(function(){shield_events.show(e,n+t)},1))},hide:function(e){var e=e||parseInt(shield.css("padding-left").match(/^(-?\d+)p/)[1],10),n=5;e>0&&(shield.css("padding-left",e-n+"px"),context.setTimeout(function(){shield_events.hide(e-n)},1))}},llima={show:function(e,n){var n=n||parseInt(r.css("background-position").match(/^(-?\d+)p/)[1],10),t=5,e=e||100;0>n&&(n=0),e>n&&(r.css("background-position",n+t+"px 0"),context.setTimeout(function(){llima.show(e,n+t)},1))},hide:function(e){var e=e||parseInt(r.css("background-position").match(/^(-?\d+)p/)[1],10),n=5;e>-268&&(r.css("background-position",e-n+"px 0"),context.setTimeout(function(){llima.hide(e-n)},1))}},title=function(){var e,n,t,i=function(e){var n='<span class="title"><span class="arrow"></span><span>#{title}</span></span>';return bcn.interpolation(n,{title:e})};return{show:function(o,r,a){var r=r||0;e=o.children().last(),e.hasClass("title")?e.show():(n=o.attr("title"),o.attr("title",""),o.append(i(n)),e=o.children().last(),t=e.children().last().css("width"),t="auto"===t?"84":t,a?(e.css("right","0px"),e.children().first().css("margin-right","14px")):e.css("left","-"+(parseInt(t,10)-r)/2+"px"))},hide:function(n){e=n.children().last(),e.hasClass("title")&&e.hide()}}}(),0!==e.length&&r.css("background-position","-268px 0"),n.first().each(function(){bcn.Modernizr.touch||bcn.bean.on(n[0],{"mouseover focus":function(e){limit=bcn.Modernizr.mq("(min-width: 769px) and (max-width: 960px)")?80:100,llima.show(limit),e.stop()},"mouseout blur":function(e){llima.hide(),e.stop()},click:function(e){llima.hide(-200)}})}),shield.first().each(function(){bcn.Modernizr.touch||bcn.bean.on(shield[0],{mouseover:function(e){bcn.Modernizr.mq("(min-width: 769px)")&&(limit=bcn.Modernizr.mq("(min-width: 769px) and (max-width: 960px)")?72:78,shield_events.show(limit),e.stop())},mouseout:function(e){bcn.Modernizr.mq("(min-width: 769px)")&&(shield_events.hide(),e.stop())},click:function(e){bcn.Modernizr.mq("(min-width: 769px)")&&shield_events.hide(0)}})}),a.each(function(){var e=this;bcn.bean.on(this,{focus:function(n){var t=bcn.$(e);bcn.$(t.previous()[0]).css("top","-500px"),n.stop()},blur:function(n){var t=bcn.$(e);""===t.attr("value")&&bcn.$(t.previous()[0]).css("top","0"),n.stop()}})}),t.each(function(){var e=this;bcn.Modernizr.touch?bcn.$(this).removeAttr("title"):bcn.bean.on(this,{"mouseover focus":function(n){var n=n||context.event,t=bcn.$(e),i=t.children().first(),o=i.attr("src").replace(/-bw/,"");i.attr("src",o),title.show(t,8),n.stop()},"mouseout blur":function(n){var n=n||context.event,t=bcn.$(e),i=t.children().first(),o=i.attr("src").replace(/([^w])(\.png)$/,"$1-bw$2");i.attr("src",o),title.hide(t),n.stop()}})}),i.each(function(){var e=this;bcn.Modernizr.touch?bcn.$(this).removeAttr("title"):bcn.bean.on(this,{"mouseover focus":function(n){var n=n||context.event,t=bcn.$(e),o=i.last().attr("href")===t.attr("href")&&r.hasClass("fullscreen");0===bcn.$(t.parent()).next().length&&t.offset().left<995&&(o=!0),title.show(t,16,o),n.stop()},"mouseout blur":function(n){var n=n||context.event,t=bcn.$(e);title.hide(t),n.stop()}})}),bcn.bean.on(document,"keydown",function(e){"27"==e.which&&o.removeClass("active")})},t=function(){var e=bcn.$("#brand.vInspira .navigation .language-selector, #brand.v2013 .navigation .language-selector");e.each(function(){var e=this;bcn.bean.off(e,"click"),bcn.bean.on(e,"click",function(){bcn.$(e).toggleClass("active")})})},i=function(){var e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,n=bcn.$("#brand.vInspira .navigation .languages"),i=bcn.$("#brand.vInspira .navigation .language-selector");641>=e&&void 0!==n[0]&&!n.hasClass("language-selector")&&(n.toggleClass("language-selector"),n.toggleClass("languages"),i.removeClass("active")),e>641&&void 0!==i[0]&&i.children().length<5&&!i.hasClass("languages")&&(i.toggleClass("languages"),i.toggleClass("language-selector"),i.removeClass("active")),t()};if(bcn.bean.on(document,"click",function(n){var n=n||window.event,t=n.target||n.srcElement,i=bcn.$("#brand .options .more a").first();if(t===i[0]){var o=bcn.$("body"),r=bcn.$("#brand"),a=function(){var e=o.css("background-position-y");return void 0===e?o.css("background-position"):(e="top"===e?"0px":e,o.css("background-position-x")+" "+e)},s=function(e){var n=a().replace(/^(.+?)(0(?:%|em)|-?\d+(?:px|pt))$/,function(n,t,i){return t+" "+(parseInt(i.match(/\d+/)[0],10)+e)+"px"});return n};r.toggleClass("collapsed"),(void 0!==o.css("background-position")||void 0!==o.css("background-position-y"))&&(e=!0),e&&r.hasClass("collapsed")?o.css("background-position",s(-28)):e&&o.css("background-position",s(28)),n.stop()}}),languages_inspira=bcn.$("#brand.vInspira ul.languages li").length,languages_inspira<4){bcn.domready(function(){i()});var o=null;window.onresize=function(){clearTimeout(o),o=setTimeout(i,500)}}bcn.onload(n)},bcn.brand2017=function(e){bcn.load("https://www.barcelona.cat/assetsdi/icoajuntament/bcn-icon.css").ready();var n;init_brand=function(t){n=switchSelectorsDesktopOrMobile(),window.addEventListener("resize",function(){n=switchSelectorsDesktopOrMobile()}),t.hasClass("bcnbrand-fullscreen")||t.hasClass("bcnbrand-bootstrap")||t.hasClass("bcnbrand-legacy")||("undefined"!=typeof $&&"function"==typeof $().modal||"undefined"!=typeof jQuery&&"function"==typeof jQuery().modal?t.addClass("bcnbrand-bootstrap"):t.addClass("bcnbrand-legacy")),bcn.$(e+" a.bcnbrand-nav-link").each(function(e){bcn.bean.on(e,"click",function(t){var i=bcn.$(e),o=getVisibleNav(),r=bcn.$(n+" ."+i.attr("data-target")),a=r.css("max-height");o&&(closeNav(o),bcn.$(n+" a.bcnbrand-nav-link.active").removeClass("active"),i.attr("aria-expanded","false")),"0px"==a&&(openNav(r),i.addClass("active"),i.attr("aria-expanded","true"),0===t.screenX&&bcn.$("."+i.attr("data-target")+" ul:first-of-type li:first-child a").focus().addClass("bcnbrand-focus"))})}),bcn.bean.on(bcn.$(e+" .bcnbrand-desktop .bcnbrand-main input")[0],"focus blur",function(){bcn.$(e+" .brand-desktop .bcnbrand-icon.bcn-icon-cerca").toggleClass("active")}),bcn.$(e+" form").each(function(e){bcn.bean.on(e,"submit",function(e){bcn.$(n+" form input").val().trim()||e.preventDefault()})}),bcn.$(e+" .bcnbrand-desktop .bcnbrand-main-container a,"+e+" .bcnbrand-desktop .bcnbrand-navs-container a").each(function(e){bcn.bean.on(e,"keyup",function(n){var t=n.keyCode?n.keyCode:n.which;9==t&&bcn.$(e).addClass("bcnbrand-focus")}),bcn.bean.on(e,"blur",function(){bcn.$(e).removeClass("bcnbrand-focus")})}),bcn.$(e+" .bcnbrand-close").each(function(e){bcn.bean.on(e,"click",function(e){e.preventDefault();var t=getVisibleNav();if(t){closeNav(t);var i=bcn.$(n+" a.bcnbrand-nav-link.active");i.removeClass("active").focus(),0===e.screenX&&i.addClass("bcnbrand-focus")}})})},openNav=function(e){e.css({maxHeight:"none"});var n=2;isMobileScreen()&&(n=20);var t=e.dim().height;e.css({maxHeight:"0px",display:"block"});var i=(e.attr("class").split(" ")[0],0),o=10;e.addClass("bcnbrand-open-nav"),e.attr("aria-hidden","false"),e.children(".bcnbrand-close").attr("aria-expanded","true");var r=setInterval(function(){i>t?clearInterval(r):(i+=n,e.css({maxHeight:Math.min(i,t)+"px"}))},o)},closeNav=function(n){var t=10;isMobileScreen()&&(t=40);var i=n.dim().height,o=i;n.removeClass("bcnbrand-open-nav"),n.attr("aria-hidden","true"),n.children(".bcnbrand-close").attr("aria-expanded","false"),bcn.$(e+" a.bcnbrand-nav-link").each(function(e){var n=bcn.$(e);"true"==n.attr("aria-expanded")&&n.attr("aria-expanded","false")});var r=setInterval(function(){o>0?(o-=t,0>o&&(o=0),n.css({maxHeight:o+"px"})):(clearInterval(r),n.css({display:"none"}))},1)},getVisibleNav=function(){for(var e=bcn.$(n+" nav"),t=0;t<e.length;t++){var i=bcn.$(e[t]);if("0px"!=i.css("max-height"))return i}return null},isMobileScreen=function(){var e=767,n=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;return e>=n},switchSelectorsDesktopOrMobile=function(){var n=e+" .bcnbrand-desktop";return isMobileScreen()&&(n=e+" .bcnbrand-mobile"),n};var t=bcn.$(e);t.length&&init_brand(t)},bcn.brand2015=function(){animate=function(e){start=new Date,id=setInterval(function(){var n=new Date-start,t=n/e.duration;t>1&&(t=1);var i=e.delta(t);e.step(i),"open"==e.type?parseInt(e.panel.css("height"))>=e.panel_height&&(clearInterval(id),e.panel.css("height",e.panel_height),e.panel.removeAttr("height"),panel_active=e.panel,animation_complete=!0):"close"==e.type&&(parseInt(e.panel.css("height"))<=e.panel_height||isNaN(!parseInt(e.panel.css("height"))))&&(clearInterval(id),e.panel.css("height",e.panel_height),e.panel.hide(),e.panel.removeAttr("style"),panel_active="",animation_complete=!0)},e.delay||10)},quad=function(e){return Math.pow(e,2)},animate_open=function(e,n,t){if("none"==e.css("display")){animation_complete=!1,e.show("block");var i=e.css("height");e.css("height",0);var o=2e3;animate({panel:e,delay:10,duration:t||1e3,delta:n,panel_height:parseInt(i),type:"open",step:function(n){e.css("height",o*n)}})}},animate_close=function(e,n,t){if("block"==e.css("display")){animation_complete=!1;var i=2e3;animate({panel:e,delay:10,duration:t||1500,delta:n,panel_height:0,type:"close",step:function(n){var t=parseInt(e.css("height"))-i*n;0>=t?e.css("height",0):e.css("height",t)}})}},reset_panel=function(){isEmpty(lang_archor)||lang_archor.removeClass("open"),isEmpty(lang_archor_mobile)||lang_archor_mobile.removeClass("open"),isEmpty(city_arrow)||city_arrow.removeClass("open"),isEmpty(app_launcher)||app_launcher.removeClass("open"),isEmpty(app_launcher_mobile)||app_launcher_mobile.removeClass("open"),isEmpty(search_icon)||search_icon.removeClass("open"),isEmpty(search_icon_mobile)||search_icon_mobile.removeClass("open")},close_active=function(){animation_complete=!1,""!=panel_active?(reset_panel(),animate_close(panel_active,quad,2e3)):animation_complete=!0},isEmpty=function(e){var n=!0;return e.length>=1&&(n=!1),n},ieHeight=function(e){var n=0;bcn.bowser.msie&&9==bcn.bowser.version&&(n=bcn.$(e).parent().parent().dim().height+1,bcn.$(e).parent().parent().css("height",n.toString()+"px"))},init=function(){if(nav_lang=isEmpty(bcn.$(".js_lang_panel"))?{}:bcn.$(".js_lang_panel"),nav_lang_mobile=isEmpty(bcn.$(".js_lang_panel_mobile"))?{}:bcn.$(".js_lang_panel_mobile"),lang_archor=isEmpty(bcn.$(".js_lang_archor"))?{}:bcn.$(".js_lang_archor"),lang_archor_mobile=isEmpty(bcn.$(".js_lang_archor_mobile"))?{}:bcn.$(".js_lang_archor_mobile"),lang_links=isEmpty(bcn.$(".js_lang_panel ul li a"))?{}:bcn.$(".js_lang_panel ul li a"),lang_links_mobile=isEmpty(bcn.$(".js_lang_panel_mobile ul li a"))?{}:bcn.$(".js_lang_panel_mobile ul li a"),app_launcher=isEmpty(bcn.$(".js_app_launcher"))?{}:bcn.$(".js_app_launcher"),app_launcher_mobile=isEmpty(bcn.$(".js_app_launcher_mobile"))?{}:bcn.$(".js_app_launcher_mobile"),nav_launcher=isEmpty(bcn.$(".js_launcher_panel"))?{}:bcn.$(".js_launcher_panel"),nav_launcher_mobile=isEmpty(bcn.$(".js_launcher_panel_mobile"))?{}:bcn.$(".js_launcher_panel_mobile"),city_archor=isEmpty(bcn.$(".js_city"))?{}:bcn.$(".js_city"),city_arrow=isEmpty(bcn.$(".js_city span"))?{}:bcn.$(".js_city span"),nav_city=isEmpty(bcn.$(".js_city_panel"))?{}:bcn.$(".js_city_panel"),nav_search=isEmpty(bcn.$(".js_search"))?{}:bcn.$(".js_search"),nav_search_mobile=isEmpty(bcn.$(".js_search_mobile"))?{}:bcn.$(".js_search_mobile"),search_icon=isEmpty(bcn.$(".js_search_icon"))?{}:bcn.$(".js_search_icon"),search_icon_mobile=isEmpty(bcn.$(".js_search_icon_mobile"))?{}:bcn.$(".js_search_icon_mobile"),search_form=isEmpty(bcn.$(".js_search_form"))?{}:bcn.$(".js_search_form"),search_input=isEmpty(bcn.$(".js_search_input"))?{}:bcn.$(".js_search_input"),search_param=isEmpty(bcn.$(".js_search_param"))?{}:bcn.$(".js_search_param"),search_submit=isEmpty(bcn.$(".js_search_submit"))?{}:bcn.$(".js_search_submit"),img_logo_shield=isEmpty(bcn.$(".js_shield"))?{}:bcn.$(".js_shield"),logo_shield=isEmpty(bcn.$(".logo_shield"))?{}:bcn.$(".logo_shield"),panel_active="",animation_complete=!1,isEmpty(lang_archor)||bcn.bean.on(lang_archor[0],"click",function(e){if("none"==nav_lang.css("display")){close_active();var n=setInterval(function(){animation_complete&&(clearInterval(n),animate_open(nav_lang,quad,2e3),lang_archor.addClass("open"))},1)}else animate_close(nav_lang,quad,2e3),bcn.$(this).removeClass("open");e.preventDefault()}),isEmpty(lang_archor_mobile)||bcn.bean.on(lang_archor_mobile[0],"click",function(e){if("none"==nav_lang_mobile.css("display")){close_active();var n=setInterval(function(){animation_complete&&(clearInterval(n),animate_open(nav_lang_mobile,quad,2e3),lang_archor_mobile.addClass("open"))},1)}else animate_close(nav_lang_mobile,quad,2e3),bcn.$(this).removeClass("open");e.preventDefault()}),isEmpty(lang_links)||lang_links.each(function(e,n,t){bcn.bean.on(this,"click",function(e){t.removeClass("active"),bcn.$(this).addClass("active"),lang_archor.children(".lang_text").text(bcn.$(this).text()),animate_close(nav_lang,quad,2e3),reset_panel(),"#"==bcn.$(this).attr("href")&&e.preventDefault()})}),isEmpty(lang_links_mobile)||lang_links_mobile.each(function(e,n,t){bcn.bean.on(this,"click",function(e){t.removeClass("active"),bcn.$(this).addClass("active"),lang_archor_mobile.children(".lang_text").text(bcn.$(this).text()),animate_close(nav_lang_mobile,quad,2e3),reset_panel(),"#"==bcn.$(this).attr("href")&&e.preventDefault()})}),isEmpty(app_launcher)||bcn.bean.on(app_launcher[0],"click",function(e){if("none"==nav_launcher.css("display")){close_active();var n=setInterval(function(){animation_complete&&(clearInterval(n),animate_open(nav_launcher,quad,2e3),app_launcher.addClass("open"))},1)}else animate_close(nav_launcher,quad,2e3),bcn.$(this).removeClass("open");e.preventDefault()}),isEmpty(app_launcher_mobile)||bcn.bean.on(app_launcher_mobile[0],"click",function(e){if("none"==nav_launcher_mobile.css("display")){close_active();var n=setInterval(function(){animation_complete&&(clearInterval(n),animate_open(nav_launcher_mobile,quad,2e3),app_launcher_mobile.addClass("open"))},1)}else animate_close(nav_launcher_mobile,quad,2e3),bcn.$(this).removeClass("open");e.preventDefault()}),isEmpty(city_archor)||bcn.bean.on(city_archor[0],"click",function(e){if("none"==nav_city.css("display")){close_active();var n=setInterval(function(){animation_complete&&(clearInterval(n),animate_open(nav_city,quad,2e3),city_arrow.addClass("open"))},1)}else animate_close(nav_city,quad,2e3),city_arrow.removeClass("open");e.preventDefault()}),isEmpty(search_icon)||bcn.bean.on(search_icon[0],"click",function(e){if("none"==nav_search.css("display")){close_active();var n=setInterval(function(){animation_complete&&(clearInterval(n),animate_open(nav_search,quad,2e3),search_icon.addClass("open"))},1)}else animate_close(nav_search,quad,2e3),search_icon.removeClass("open");e.preventDefault()}),isEmpty(search_icon_mobile)||bcn.bean.on(search_icon_mobile[0],"click",function(e){if("none"==nav_search_mobile.css("display")){close_active();var n=setInterval(function(){animation_complete&&(clearInterval(n),animate_open(nav_search_mobile,quad,2e3),search_icon_mobile.addClass("open"))},1)}else animate_close(nav_search_mobile,quad,2e3),search_icon_mobile.removeClass("open");e.preventDefault()}),isEmpty(search_input)||(bcn.bean.on(search_input[0],"click",function(e){search_submit.css("display","block")}),bcn.bean.on(search_input[0],"focusin",function(e){search_submit.css("display","block")}),bcn.bean.on(search_input[0],"focusout",function(e){""==bcn.$(this).val()&&search_submit.css("display","none")})),isEmpty(search_submit)||search_submit.each(function(e,n){var t=n;bcn.bean.on(e,"click",function(e){e.preventDefault(),""!=search_input[t].value&&(search_param[t].value=search_input[t].value,search_form[t].submit())})}),bcn.$(".js_close").each(function(){bcn.bean.on(this,"click",function(e){var n=bcn.$(this).parent().parent("nav");animate_close(n,quad,2e3),reset_panel(),e.preventDefault()})}),!isEmpty(img_logo_shield)){var e=bcn.$(img_logo_shield).children().attr("src"),n=e;ieHeight(img_logo_shield),window.onresize=function(){bcn.$(img_logo_shield).parent().parent().attr("style",""),ieHeight(img_logo_shield)},bcn.Modernizr.svg||(n=e.replace("llima-vermella.svg","logo_ayto.png"),bcn.$(img_logo_shield).children().attr("src",n))}if(!isEmpty(logo_shield)&&bcn.$("h2.right span").length>0){var t=".wrapper.legacy .content h2.right",i=".wrapper.legacy .content",o=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,r=o>=1280?138:114;bcn.bean.on(logo_shield[0],"mouseenter",function(e){e.preventDefault();var n=(bcn.$(i).children().length,bcn.$(i).dim().width),o=(bcn.$(".wrapper.legacy").dim().width-n)/2,a=r-o+bcn.$("h2.right span").dim().width+parseInt(bcn.$("h2.right span").css("margin-left").replace("px",""))+5;r>o&&(bcn.$(t).data("hover-status","on").css("position","absolute"),bcn.$(t).css("margin-left",-1*a+"px"))}),bcn.bean.on(logo_shield[0],"mouseleave",function(e){"on"==bcn.$(t).data("hover-status")&&(bcn.$(t).data("hover-status","off").css("position","relative"),bcn.$(t).css("margin-left","inherit"))})}},bcn.$("#brand.v2015").length>0&&init()},bcn.brandInjection=function(e){bcn.vars=bcn.vars||[],bcn.vars.bcn_injection={},bcn.vars.bcn_injection.params=e;var n=function(e){var n=e.urls||[],i=(e.version||"",bcn.lang);if("undefined"==typeof n[i])return console.warn('The brand in "'+i+'" is not defined.'),bcn.test.brandInjectionLanguageExist=!1,!1;bcn.test.brandInjectionLanguageExist=o;var o=n[i];t(o)},t=function(e){bcn.ajax({url:e,type:"html",timeout:5e3,async:!0,error:function(){return bcn.test.brandInjection=!1,!1},success:function(e){bcn.test.brandInjection=!0,bcn.vars.bcn_injection.params.html=e,i()}})},i=function(){bcn.domready(function(){var e=bcn.vars.bcn_injection.params.version;if(bcn.$("#brand."+e).length>0)console.warn("Brand Ajuntament already exist, stop injection"),bcn.test.brandInjectionStatus=!1;else switch(e){case"v2017":var n=bcn.$("body");bcn.bonzo(n[0]).prepend(bcn.vars.bcn_injection.params.html),bcn.brand2017("#brand."),bcn.statistics(bcn.vars.bcn_injection.params),bcn.test.brandInjectionStatus=!0,"undefined"!=typeof bcn.vars.bcn_injection.params.callback&&bcn.vars.bcn_injection.params.callback();break;default:console.warn("Brand "+e+" is not a valid brand version"),bcn.test.brandInjectionStatus=!1}})};n(e)},bcn.brand(),bcn.domready(function(){bcn.brand2015()}),bcn.domready(function(){bcn.brand2017("#brand.v2017")}),bcn.brandDetect=function(){void 0!==bcn.$("#brand.v2017")[0]&&(bcn.brand2017("#brand.v2017"),bcn.test.brand2017detected=!0)},bcn.test=bcn.test||{},bcn.mobile=function(e){var n=function(){var e=!!navigator.cookieEnabled;return"undefined"!=typeof navigator.cookieEnabled||e||(document.cookie="testcookie=1",e=-1!=document.cookie.indexOf("testcookie"),document.cookie="testcookie=; expires=Thu, 01-Jan-70 00:00:00 UTC"),e};if(n()){var t=bcn.i18n.t,i="popup",o="V\xe9s a l'aplicaci\xf3",r="M\xe9s info",a="Tancar popup",s="No tornar a mostrar",c="Obrir popup",l={ca:{"Download the Apps":"Desc\xe0rrega Apps","Download the app for your mobile device":"V\xe9s a l'aplicaci\xf3","More info":"M\xe9s info",Close:"No tornar a mostrar"},es:{"Download the Apps":"Descarga Apps","Download the app for your mobile device":"Vaya a la aplicaci\xf3n","More info":"M\xe1s info",Close:"No volver a mostrar"}},u=function(e){window.location=e},p=function(e){var n=e.cookie_name;bcn.mobile.params=e,bcn.mobile.close_popup=function(){bcn.$(".black-bg, #bcn-apps").hide()},bcn.mobile.setNoMoreCookie=function(){bcn.cookie.create(n,1,60,"/","")},bcn.mobile.setCloseCookie=function(){bcn.cookie.create(n,1,1,"/","")},bcn.mobile.params.literals={title:t("Download the Apps"),more_info:t("More info"),download:t("Download the app for your mobile device"),close:t("Close")},bcn.domready(function(){function e(){w+=1;var e="0."+w;bcn.$("#bcn-apps").css({opacity:e}),w>8&&clearInterval(x)}var t=bcn.cookie.read(n);if(1!=t){bcn.utilities.disable_scroll();var l='<div class="black-bg"></div><div id="bcn-apps"><div class="bcn-popup bcn-apps-title">{{literals.title}}<span></span></div><ul class="bcn-popup">{{#apps}}<li><div class="bcn-app-icon"><a href="{{uri}}"><img src="{{thumb}}"/></a></div><div class="bcn-app-container"><div class="bcn-title">{{name}}</div><div class="bcn-p"><a href="{{uri}}">{{literals.download}}</a></div></div></li>{{/apps}}<li class="bcn-stopshow"><a href="#">{{literals.close}}</a></li></ul></div>',u=bcn.$("body");u.css("background","none").css("background-color","#F6F6F6"),output=bcn.Mustache.to_html(l,bcn.mobile.params),bcn.bonzo(u[0]).append(output),bcn.statistics({track:[c,i,n]});var p=bcn.$("#bcn-apps .bcn-apps-title span,#bcn-apps .bcn-apps-title span"),d=bcn.$("#bcn-apps .bcn-p a"),f=bcn.$("#bcn-apps .bcn-mes-info a"),h=bcn.$("#bcn-apps .bcn-app-icon a"),b=bcn.$("#bcn-apps li.bcn-stopshow a");bcn.bean.on(p[0],"click",function(){bcn.statistics({track:[a,i,n]}),bcn.utilities.enable_scroll(),bcn.mobile.setCloseCookie(),bcn.mobile.close_popup()}),d[0]&&d.each(function(){bcn.bean.on(this,"click",function(){bcn.statistics({track:[o,i,this.href]})})}),f[0]&&f.each(function(){bcn.bean.on(this,"click",function(){bcn.statistics({track:[r,i,this.href]})})}),h[0]&&h.each(function(){bcn.bean.on(h[0],"click",function(){bcn.statistics({track:[o,i,this.href]})})}),bcn.bean.on(b[0],"click",function(){bcn.statistics({track:[s,i,this.href]}),bcn.utilities.enable_scroll(),bcn.mobile.setNoMoreCookie(),bcn.mobile.close_popup()});var m=320,v=bcn.$("#bcn-apps"),g=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,y=(g-m)/2;if(g>2*m){var _={};bcn.bowser.chrome||bcn.bowser.safari?_["-webkit-transform"]="scale(2)":bcn.bowser.firefox?_["-moz-transform"]="scale(2)":bcn.bowser.msie?_.zoom=2:bcn.bowser.opera?_["-o-transform"]="scale(2)":_.transform="scale(2)",bcn.$("#bcn-apps").css(_)}0>y&&(y=0),v.css("left",y);var w=0,x=setInterval(function(){e()},50)}})},d=function(e){if(e){for(var n=["ipad","iphone","android"],t=["name","thumb","uri"],i=0,o=0,r=e.app_popup,a=0;a<n.length;a++)if(r[n[a]]&&0!=r[n[a]].length){o++;for(var s=0;s<r[n[a]].length;s++)for(var c=0;c<t.length;c++)""==r[n[a]][s][t[c]]&&i++}0===i?(bcn.test.allfields=1,b(r)):bcn.test.allfields=0}},f=function(e){e.app_popup&&e.app_popup.cookie_name?(bcn.test.valid=1,d(e)):bcn.test.valid=0},h=function(e){var n="uk50ZRuW4qEe6IugXc3eWUGZbkJp5J86CM1URsma";bcn.ajax({url:e+"?callback=parseResponse&api_key="+n,headers:{"X-Api-Key":n},type:"jsonp",timeout:5e3,jsonpCallbackName:"parseResponse",async:!0,error:function(){bcn.test.exist=0},success:function(e){bcn.test.exist=1,f(e)}})},b=function(e){if(bcn.i18n.load(l),void 0!==e.m_web&&""!==e.m_web&&e.m_web.constructor===String)bcn.isMobile.phone&&u(e.m_web);else{var n=e.cookie_name||"bcn-apps";bcn.isMobile.apple.phone&&e.iphone&&0!==e.iphone.length?p({apps:e.iphone,cookie_name:n}):bcn.isMobile.android.phone&&e.android&&0!==e.android.length?p({apps:e.android,cookie_name:n}):bcn.isMobile.apple.tablet&&e.ipad&&0!==e.ipad.length&&p({apps:e.ipad,cookie_name:n})}};bcn.isMobile.any&&h(e)}},bcn.domready(function(){var e="https://apidata.barcelona.cat/popup-apps/";bcn.$("#brand");brand_alias=bcn.$("#brand").attr("alias"),bcn.$("#brand").length>0&&(brand_alias?bcn.mobile(e+brand_alias+".json"):"undefined"!=typeof window.console&&console.warn("BCN Brand with no alias attribute."))})}(bcn,this)}else console.warn("The javascript core.js has been loaded twice on the DOM");